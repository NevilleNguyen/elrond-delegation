"use strict";var fl=Object.create;var qt=Object.defineProperty,Tl=Object.defineProperties,yl=Object.getOwnPropertyDescriptor,hl=Object.getOwnPropertyDescriptors,Sl=Object.getOwnPropertyNames,Ir=Object.getOwnPropertySymbols,xl=Object.getPrototypeOf,Un=Object.prototype.hasOwnProperty,ni=Object.prototype.propertyIsEnumerable;var ri=(e,t,r)=>t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))Un.call(t,r)&&ri(e,r,t[r]);if(Ir)for(var r of Ir(t))ni.call(t,r)&&ri(e,r,t[r]);return e},R=(e,t)=>Tl(e,hl(t));var Ar=(e,t)=>{var r={};for(var o in e)Un.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Ir)for(var o of Ir(e))t.indexOf(o)<0&&ni.call(e,o)&&(r[o]=e[o]);return r};var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var me=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rt=(e,t)=>{for(var r in t)qt(e,r,{get:t[r],enumerable:!0})},oi=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sl(t))!Un.call(e,i)&&i!==r&&qt(e,i,{get:()=>t[i],enumerable:!(o=yl(t,i))||o.enumerable});return e};var O=(e,t,r)=>(r=e!=null?fl(xl(e)):{},oi(t||!e||!e.__esModule?qt(r,"default",{value:e,enumerable:!0}):r,e)),zt=e=>oi(qt({},"__esModule",{value:!0}),e);var S=(e,t,r)=>new Promise((o,i)=>{var p=d=>{try{u(r.next(d))}catch(m){i(m)}},l=d=>{try{u(r.throw(d))}catch(m){i(m)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(p,l);u((r=r.apply(e,t)).next())});var ai=me(br=>{"use strict";n();br.byteLength=vl;br.toByteArray=Al;br.fromByteArray=El;var Ce=[],he=[],wl=typeof Uint8Array!="undefined"?Uint8Array:Array,Bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(nt=0,ii=Bn.length;nt<ii;++nt)Ce[nt]=Bn[nt],he[Bn.charCodeAt(nt)]=nt;var nt,ii;he["-".charCodeAt(0)]=62;he["_".charCodeAt(0)]=63;function si(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var o=r===t?0:4-r%4;return[r,o]}function vl(e){var t=si(e),r=t[0],o=t[1];return(r+o)*3/4-o}function Il(e,t,r){return(t+r)*3/4-r}function Al(e){var t,r=si(e),o=r[0],i=r[1],p=new wl(Il(e,o,i)),l=0,u=i>0?o-4:o,d;for(d=0;d<u;d+=4)t=he[e.charCodeAt(d)]<<18|he[e.charCodeAt(d+1)]<<12|he[e.charCodeAt(d+2)]<<6|he[e.charCodeAt(d+3)],p[l++]=t>>16&255,p[l++]=t>>8&255,p[l++]=t&255;return i===2&&(t=he[e.charCodeAt(d)]<<2|he[e.charCodeAt(d+1)]>>4,p[l++]=t&255),i===1&&(t=he[e.charCodeAt(d)]<<10|he[e.charCodeAt(d+1)]<<4|he[e.charCodeAt(d+2)]>>2,p[l++]=t>>8&255,p[l++]=t&255),p}function bl(e){return Ce[e>>18&63]+Ce[e>>12&63]+Ce[e>>6&63]+Ce[e&63]}function Ll(e,t,r){for(var o,i=[],p=t;p<r;p+=3)o=(e[p]<<16&16711680)+(e[p+1]<<8&65280)+(e[p+2]&255),i.push(bl(o));return i.join("")}function El(e){for(var t,r=e.length,o=r%3,i=[],p=16383,l=0,u=r-o;l<u;l+=p)i.push(Ll(e,l,l+p>u?u:l+p));return o===1?(t=e[r-1],i.push(Ce[t>>2]+Ce[t<<4&63]+"==")):o===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ce[t>>10]+Ce[t>>4&63]+Ce[t<<2&63]+"=")),i.join("")}});var ci=me(Gn=>{n();Gn.read=function(e,t,r,o,i){var p,l,u=i*8-o-1,d=(1<<u)-1,m=d>>1,g=-7,T=r?i-1:0,x=r?-1:1,y=e[t+T];for(T+=x,p=y&(1<<-g)-1,y>>=-g,g+=u;g>0;p=p*256+e[t+T],T+=x,g-=8);for(l=p&(1<<-g)-1,p>>=-g,g+=o;g>0;l=l*256+e[t+T],T+=x,g-=8);if(p===0)p=1-m;else{if(p===d)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,o),p=p-m}return(y?-1:1)*l*Math.pow(2,p-o)};Gn.write=function(e,t,r,o,i,p){var l,u,d,m=p*8-i-1,g=(1<<m)-1,T=g>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:p-1,w=o?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+T>=1?t+=x/d:t+=x*Math.pow(2,1-T),t*d>=2&&(l++,d/=2),l+T>=g?(u=0,l=g):l+T>=1?(u=(t*d-1)*Math.pow(2,i),l=l+T):(u=t*Math.pow(2,T-1)*Math.pow(2,i),l=0));i>=8;e[r+y]=u&255,y+=w,u/=256,i-=8);for(l=l<<i|u,m+=i;m>0;e[r+y]=l&255,y+=w,l/=256,m-=8);e[r+y-w]|=b*128}});var wi=me(It=>{"use strict";n();var Wn=ai(),vt=ci(),li=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;It.Buffer=f;It.SlowBuffer=Rl;It.INSPECT_MAX_BYTES=50;var Lr=2147483647;It.kMaxLength=Lr;f.TYPED_ARRAY_SUPPORT=kl();!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function kl(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(r){return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function Be(e){if(e>Lr)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return jn(e)}return di(e,t,r)}f.poolSize=8192;function di(e,t,r){if(typeof e=="string")return Dl(e,t);if(ArrayBuffer.isView(e))return Cl(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ne(e,ArrayBuffer)||e&&Ne(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ne(e,SharedArrayBuffer)||e&&Ne(e.buffer,SharedArrayBuffer)))return Vn(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var o=e.valueOf&&e.valueOf();if(o!=null&&o!==e)return f.from(o,t,r);var i=Nl(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}f.from=function(e,t,r){return di(e,t,r)};Object.setPrototypeOf(f.prototype,Uint8Array.prototype);Object.setPrototypeOf(f,Uint8Array);function mi(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Pl(e,t,r){return mi(e),e<=0?Be(e):t!==void 0?typeof r=="string"?Be(e).fill(t,r):Be(e).fill(t):Be(e)}f.alloc=function(e,t,r){return Pl(e,t,r)};function jn(e){return mi(e),Be(e<0?0:qn(e)|0)}f.allocUnsafe=function(e){return jn(e)};f.allocUnsafeSlow=function(e){return jn(e)};function Dl(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=gi(e,t)|0,o=Be(r),i=o.write(e,t);return i!==r&&(o=o.slice(0,i)),o}function $n(e){for(var t=e.length<0?0:qn(e.length)|0,r=Be(t),o=0;o<t;o+=1)r[o]=e[o]&255;return r}function Cl(e){if(Ne(e,Uint8Array)){var t=new Uint8Array(e);return Vn(t.buffer,t.byteOffset,t.byteLength)}return $n(e)}function Vn(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var o;return t===void 0&&r===void 0?o=new Uint8Array(e):r===void 0?o=new Uint8Array(e,t):o=new Uint8Array(e,t,r),Object.setPrototypeOf(o,f.prototype),o}function Nl(e){if(f.isBuffer(e)){var t=qn(e.length)|0,r=Be(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||zn(e.length)?Be(0):$n(e);if(e.type==="Buffer"&&Array.isArray(e.data))return $n(e.data)}function qn(e){if(e>=Lr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lr.toString(16)+" bytes");return e|0}function Rl(e){return+e!=e&&(e=0),f.alloc(+e)}f.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==f.prototype};f.compare=function(t,r){if(Ne(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),Ne(r,Uint8Array)&&(r=f.from(r,r.offset,r.byteLength)),!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var o=t.length,i=r.length,p=0,l=Math.min(o,i);p<l;++p)if(t[p]!==r[p]){o=t[p],i=r[p];break}return o<i?-1:i<o?1:0};f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};f.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return f.alloc(0);var o;if(r===void 0)for(r=0,o=0;o<t.length;++o)r+=t[o].length;var i=f.allocUnsafe(r),p=0;for(o=0;o<t.length;++o){var l=t[o];if(Ne(l,Uint8Array))p+l.length>i.length?f.from(l).copy(i,p):Uint8Array.prototype.set.call(i,l,p);else if(f.isBuffer(l))l.copy(i,p);else throw new TypeError('"list" argument must be an Array of Buffers');p+=l.length}return i};function gi(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ne(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Hn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return xi(e).length;default:if(i)return o?-1:Hn(e).length;t=(""+t).toLowerCase(),i=!0}}f.byteLength=gi;function Ml(e,t,r){var o=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Hl(this,t,r);case"utf8":case"utf-8":return Ti(this,t,r);case"ascii":return $l(this,t,r);case"latin1":case"binary":return Vl(this,t,r);case"base64":return Gl(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jl(this,t,r);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}f.prototype._isBuffer=!0;function ot(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}f.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)ot(this,r,r+1);return this};f.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)ot(this,r,r+3),ot(this,r+1,r+2);return this};f.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)ot(this,r,r+7),ot(this,r+1,r+6),ot(this,r+2,r+5),ot(this,r+3,r+4);return this};f.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Ti(this,0,t):Ml.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:f.compare(this,t)===0};f.prototype.inspect=function(){var t="",r=It.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};li&&(f.prototype[li]=f.prototype.inspect);f.prototype.compare=function(t,r,o,i,p){if(Ne(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),o===void 0&&(o=t?t.length:0),i===void 0&&(i=0),p===void 0&&(p=this.length),r<0||o>t.length||i<0||p>this.length)throw new RangeError("out of range index");if(i>=p&&r>=o)return 0;if(i>=p)return-1;if(r>=o)return 1;if(r>>>=0,o>>>=0,i>>>=0,p>>>=0,this===t)return 0;for(var l=p-i,u=o-r,d=Math.min(l,u),m=this.slice(i,p),g=t.slice(r,o),T=0;T<d;++T)if(m[T]!==g[T]){l=m[T],u=g[T];break}return l<u?-1:u<l?1:0};function fi(e,t,r,o,i){if(e.length===0)return-1;if(typeof r=="string"?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,zn(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=f.from(t,o)),f.isBuffer(t))return t.length===0?-1:pi(e,t,r,o,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):pi(e,[t],r,o,i);throw new TypeError("val must be string, number or Buffer")}function pi(e,t,r,o,i){var p=1,l=e.length,u=t.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(e.length<2||t.length<2)return-1;p=2,l/=2,u/=2,r/=2}function d(y,w){return p===1?y[w]:y.readUInt16BE(w*p)}var m;if(i){var g=-1;for(m=r;m<l;m++)if(d(e,m)===d(t,g===-1?0:m-g)){if(g===-1&&(g=m),m-g+1===u)return g*p}else g!==-1&&(m-=m-g),g=-1}else for(r+u>l&&(r=l-u),m=r;m>=0;m--){for(var T=!0,x=0;x<u;x++)if(d(e,m+x)!==d(t,x)){T=!1;break}if(T)return m}return-1}f.prototype.includes=function(t,r,o){return this.indexOf(t,r,o)!==-1};f.prototype.indexOf=function(t,r,o){return fi(this,t,r,o,!0)};f.prototype.lastIndexOf=function(t,r,o){return fi(this,t,r,o,!1)};function Ol(e,t,r,o){r=Number(r)||0;var i=e.length-r;o?(o=Number(o),o>i&&(o=i)):o=i;var p=t.length;o>p/2&&(o=p/2);for(var l=0;l<o;++l){var u=parseInt(t.substr(l*2,2),16);if(zn(u))return l;e[r+l]=u}return l}function _l(e,t,r,o){return Er(Hn(t,e.length-r),e,r,o)}function Fl(e,t,r,o){return Er(Kl(t),e,r,o)}function Ul(e,t,r,o){return Er(xi(t),e,r,o)}function Bl(e,t,r,o){return Er(Yl(t,e.length-r),e,r,o)}f.prototype.write=function(t,r,o,i){if(r===void 0)i="utf8",o=this.length,r=0;else if(o===void 0&&typeof r=="string")i=r,o=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(o)?(o=o>>>0,i===void 0&&(i="utf8")):(i=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var p=this.length-r;if((o===void 0||o>p)&&(o=p),t.length>0&&(o<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var l=!1;;)switch(i){case"hex":return Ol(this,t,r,o);case"utf8":case"utf-8":return _l(this,t,r,o);case"ascii":case"latin1":case"binary":return Fl(this,t,r,o);case"base64":return Ul(this,t,r,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bl(this,t,r,o);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}};f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Gl(e,t,r){return t===0&&r===e.length?Wn.fromByteArray(e):Wn.fromByteArray(e.slice(t,r))}function Ti(e,t,r){r=Math.min(e.length,r);for(var o=[],i=t;i<r;){var p=e[i],l=null,u=p>239?4:p>223?3:p>191?2:1;if(i+u<=r){var d,m,g,T;switch(u){case 1:p<128&&(l=p);break;case 2:d=e[i+1],(d&192)===128&&(T=(p&31)<<6|d&63,T>127&&(l=T));break;case 3:d=e[i+1],m=e[i+2],(d&192)===128&&(m&192)===128&&(T=(p&15)<<12|(d&63)<<6|m&63,T>2047&&(T<55296||T>57343)&&(l=T));break;case 4:d=e[i+1],m=e[i+2],g=e[i+3],(d&192)===128&&(m&192)===128&&(g&192)===128&&(T=(p&15)<<18|(d&63)<<12|(m&63)<<6|g&63,T>65535&&T<1114112&&(l=T))}}l===null?(l=65533,u=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|l&1023),o.push(l),i+=u}return Wl(o)}var ui=4096;function Wl(e){var t=e.length;if(t<=ui)return String.fromCharCode.apply(String,e);for(var r="",o=0;o<t;)r+=String.fromCharCode.apply(String,e.slice(o,o+=ui));return r}function $l(e,t,r){var o="";r=Math.min(e.length,r);for(var i=t;i<r;++i)o+=String.fromCharCode(e[i]&127);return o}function Vl(e,t,r){var o="";r=Math.min(e.length,r);for(var i=t;i<r;++i)o+=String.fromCharCode(e[i]);return o}function Hl(e,t,r){var o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var i="",p=t;p<r;++p)i+=Xl[e[p]];return i}function jl(e,t,r){for(var o=e.slice(t,r),i="",p=0;p<o.length-1;p+=2)i+=String.fromCharCode(o[p]+o[p+1]*256);return i}f.prototype.slice=function(t,r){var o=this.length;t=~~t,r=r===void 0?o:~~r,t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),r<0?(r+=o,r<0&&(r=0)):r>o&&(r=o),r<t&&(r=t);var i=this.subarray(t,r);return Object.setPrototypeOf(i,f.prototype),i};function Z(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(t,r,o){t=t>>>0,r=r>>>0,o||Z(t,r,this.length);for(var i=this[t],p=1,l=0;++l<r&&(p*=256);)i+=this[t+l]*p;return i};f.prototype.readUintBE=f.prototype.readUIntBE=function(t,r,o){t=t>>>0,r=r>>>0,o||Z(t,r,this.length);for(var i=this[t+--r],p=1;r>0&&(p*=256);)i+=this[t+--r]*p;return i};f.prototype.readUint8=f.prototype.readUInt8=function(t,r){return t=t>>>0,r||Z(t,1,this.length),this[t]};f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||Z(t,2,this.length),this[t]|this[t+1]<<8};f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||Z(t,2,this.length),this[t]<<8|this[t+1]};f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};f.prototype.readIntLE=function(t,r,o){t=t>>>0,r=r>>>0,o||Z(t,r,this.length);for(var i=this[t],p=1,l=0;++l<r&&(p*=256);)i+=this[t+l]*p;return p*=128,i>=p&&(i-=Math.pow(2,8*r)),i};f.prototype.readIntBE=function(t,r,o){t=t>>>0,r=r>>>0,o||Z(t,r,this.length);for(var i=r,p=1,l=this[t+--i];i>0&&(p*=256);)l+=this[t+--i]*p;return p*=128,l>=p&&(l-=Math.pow(2,8*r)),l};f.prototype.readInt8=function(t,r){return t=t>>>0,r||Z(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};f.prototype.readInt16LE=function(t,r){t=t>>>0,r||Z(t,2,this.length);var o=this[t]|this[t+1]<<8;return o&32768?o|4294901760:o};f.prototype.readInt16BE=function(t,r){t=t>>>0,r||Z(t,2,this.length);var o=this[t+1]|this[t]<<8;return o&32768?o|4294901760:o};f.prototype.readInt32LE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};f.prototype.readInt32BE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};f.prototype.readFloatLE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),vt.read(this,t,!0,23,4)};f.prototype.readFloatBE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),vt.read(this,t,!1,23,4)};f.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||Z(t,8,this.length),vt.read(this,t,!0,52,8)};f.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||Z(t,8,this.length),vt.read(this,t,!1,52,8)};function ce(e,t,r,o,i,p){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<p)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,r,o,i){if(t=+t,r=r>>>0,o=o>>>0,!i){var p=Math.pow(2,8*o)-1;ce(this,t,r,o,p,0)}var l=1,u=0;for(this[r]=t&255;++u<o&&(l*=256);)this[r+u]=t/l&255;return r+o};f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,r,o,i){if(t=+t,r=r>>>0,o=o>>>0,!i){var p=Math.pow(2,8*o)-1;ce(this,t,r,o,p,0)}var l=o-1,u=1;for(this[r+l]=t&255;--l>=0&&(u*=256);)this[r+l]=t/u&255;return r+o};f.prototype.writeUint8=f.prototype.writeUInt8=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,1,255,0),this[r]=t&255,r+1};f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};f.prototype.writeIntLE=function(t,r,o,i){if(t=+t,r=r>>>0,!i){var p=Math.pow(2,8*o-1);ce(this,t,r,o,p-1,-p)}var l=0,u=1,d=0;for(this[r]=t&255;++l<o&&(u*=256);)t<0&&d===0&&this[r+l-1]!==0&&(d=1),this[r+l]=(t/u>>0)-d&255;return r+o};f.prototype.writeIntBE=function(t,r,o,i){if(t=+t,r=r>>>0,!i){var p=Math.pow(2,8*o-1);ce(this,t,r,o,p-1,-p)}var l=o-1,u=1,d=0;for(this[r+l]=t&255;--l>=0&&(u*=256);)t<0&&d===0&&this[r+l+1]!==0&&(d=1),this[r+l]=(t/u>>0)-d&255;return r+o};f.prototype.writeInt8=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};f.prototype.writeInt16LE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};f.prototype.writeInt16BE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};f.prototype.writeInt32LE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};f.prototype.writeInt32BE=function(t,r,o){return t=+t,r=r>>>0,o||ce(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function yi(e,t,r,o,i,p){if(r+o>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function hi(e,t,r,o,i){return t=+t,r=r>>>0,i||yi(e,t,r,4,34028234663852886e22,-34028234663852886e22),vt.write(e,t,r,o,23,4),r+4}f.prototype.writeFloatLE=function(t,r,o){return hi(this,t,r,!0,o)};f.prototype.writeFloatBE=function(t,r,o){return hi(this,t,r,!1,o)};function Si(e,t,r,o,i){return t=+t,r=r>>>0,i||yi(e,t,r,8,17976931348623157e292,-17976931348623157e292),vt.write(e,t,r,o,52,8),r+8}f.prototype.writeDoubleLE=function(t,r,o){return Si(this,t,r,!0,o)};f.prototype.writeDoubleBE=function(t,r,o){return Si(this,t,r,!1,o)};f.prototype.copy=function(t,r,o,i){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(o||(o=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<o&&(i=o),i===o||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-o&&(i=t.length-r+o);var p=i-o;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,o,i):Uint8Array.prototype.set.call(t,this.subarray(o,i),r),p};f.prototype.fill=function(t,r,o,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,o=this.length):typeof o=="string"&&(i=o,o=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var p=t.charCodeAt(0);(i==="utf8"&&p<128||i==="latin1")&&(t=p)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<o)throw new RangeError("Out of range index");if(o<=r)return this;r=r>>>0,o=o===void 0?this.length:o>>>0,t||(t=0);var l;if(typeof t=="number")for(l=r;l<o;++l)this[l]=t;else{var u=f.isBuffer(t)?t:f.from(t,i),d=u.length;if(d===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<o-r;++l)this[l+r]=u[l%d]}return this};var ql=/[^+/0-9A-Za-z-_]/g;function zl(e){if(e=e.split("=")[0],e=e.trim().replace(ql,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Hn(e,t){t=t||1/0;for(var r,o=e.length,i=null,p=[],l=0;l<o;++l){if(r=e.charCodeAt(l),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&p.push(239,191,189);continue}else if(l+1===o){(t-=3)>-1&&p.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&p.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&p.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;p.push(r)}else if(r<2048){if((t-=2)<0)break;p.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;p.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;p.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return p}function Kl(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Yl(e,t){for(var r,o,i,p=[],l=0;l<e.length&&!((t-=2)<0);++l)r=e.charCodeAt(l),o=r>>8,i=r%256,p.push(i),p.push(o);return p}function xi(e){return Wn.toByteArray(zl(e))}function Er(e,t,r,o){for(var i=0;i<o&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Ne(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function zn(e){return e!==e}var Xl=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var o=r*16,i=0;i<16;++i)t[o+i]=e[r]+e[i];return t}()});var Li=me((om,bi)=>{n();var Y=bi.exports={},Re,Me;function Kn(){throw new Error("setTimeout has not been defined")}function Yn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Re=setTimeout:Re=Kn}catch(e){Re=Kn}try{typeof clearTimeout=="function"?Me=clearTimeout:Me=Yn}catch(e){Me=Yn}})();function vi(e){if(Re===setTimeout)return setTimeout(e,0);if((Re===Kn||!Re)&&setTimeout)return Re=setTimeout,setTimeout(e,0);try{return Re(e,0)}catch(t){try{return Re.call(null,e,0)}catch(r){return Re.call(this,e,0)}}}function Zl(e){if(Me===clearTimeout)return clearTimeout(e);if((Me===Yn||!Me)&&clearTimeout)return Me=clearTimeout,clearTimeout(e);try{return Me(e)}catch(t){try{return Me.call(null,e)}catch(r){return Me.call(this,e)}}}var Ge=[],At=!1,it,kr=-1;function Jl(){!At||!it||(At=!1,it.length?Ge=it.concat(Ge):kr=-1,Ge.length&&Ii())}function Ii(){if(!At){var e=vi(Jl);At=!0;for(var t=Ge.length;t;){for(it=Ge,Ge=[];++kr<t;)it&&it[kr].run();kr=-1,t=Ge.length}it=null,At=!1,Zl(e)}}Y.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ge.push(new Ai(e,t)),Ge.length===1&&!At&&vi(Ii)};function Ai(e,t){this.fun=e,this.array=t}Ai.prototype.run=function(){this.fun.apply(null,this.array)};Y.title="browser";Y.browser=!0;Y.env={};Y.argv=[];Y.version="";Y.versions={};function We(){}Y.on=We;Y.addListener=We;Y.once=We;Y.off=We;Y.removeListener=We;Y.removeAllListeners=We;Y.emit=We;Y.prependListener=We;Y.prependOnceListener=We;Y.listeners=function(e){return[]};Y.binding=function(e){throw new Error("process.binding is not supported")};Y.cwd=function(){return"/"};Y.chdir=function(e){throw new Error("process.chdir is not supported")};Y.umask=function(){return 0}});var s,c,Ql,a,n=L(()=>{s=O(wi()),c=O(Li()),Ql=function(e){function t(){var o=this||self;return delete e.prototype.__magic__,o}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),a=Ql});var Ei,st,ki,Pi,Di,qe,at=L(()=>{"use strict";n();Ei="error when signing",st="Transaction canceled",ki="error signing transaction",Pi="provider not initialized",Di="You need a signer/valid signer to send a transaction,use either WalletProvider, LedgerProvider or WalletConnect",qe="Action not allowed. User is logged in. Call logout() first"});var Ci=L(()=>{"use strict";n()});var Ni=L(()=>{"use strict";n()});var Ri=L(()=>{"use strict";n()});var z=L(()=>{"use strict";n()});var Mi=L(()=>{"use strict";n()});var Oi=L(()=>{"use strict";n()});var le=L(()=>{"use strict";n()});var _i=L(()=>{"use strict";n()});var Fi=L(()=>{"use strict";n()});var J=L(()=>{"use strict";n();Ci();Ni();Ri();z();Mi();Oi();le();_i();Fi()});var Xn,Ui,Im,Bi,Am,Gi,bm,Lm,Em,Wi=L(()=>{"use strict";n();J();Xn={devnet:{id:"devnet",chainId:"D",name:"Devnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://devnet-wallet.multiversx.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"http://devnet-explorer.multiversx.com",apiTimeout:"4000"},testnet:{id:"testnet",chainId:"T",name:"Testnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://testnet-wallet.multiversx.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"http://testnet-explorer.multiversx.com",apiTimeout:"4000"},mainnet:{id:"mainnet",chainId:"1",name:"Mainnet",egldLabel:"EGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://wallet.multiversx.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:"4000"}},{chainId:Ui,egldLabel:Im}=Xn["devnet"],{chainId:Bi,egldLabel:Am}=Xn["testnet"],{chainId:Gi,egldLabel:bm}=Xn["mainnet"],Lm={["devnet"]:Ui,["testnet"]:Bi,["mainnet"]:Gi},Em={[Ui]:"devnet",[Bi]:"testnet",[Gi]:"mainnet"}});var Zn,Jn=L(()=>{"use strict";n();Zn={36864:{code:"codeSuccess",message:"Success"},27013:{code:"ERR_USER_DENIED",message:"Rejected by user"},27904:{code:"ERR_UNKNOWN_INSTRUCTION",message:"Unknown instruction"},28160:{code:"ERR_WRONG_CLA",message:"Wrong CLA"},28161:{code:"ERR_INVALID_ARGUMENTS",message:"Invalid arguments"},28162:{code:"ERR_INVALID_MESSAGE",message:"Invalid message"},28163:{code:"ERR_INVALID_P1",message:"Invalid P1"},28164:{code:"ERR_MESSAGE_TOO_LONG",message:"Message too long"},28165:{code:"ERR_RECEIVER_TOO_LONG",message:"Receiver too long"},28166:{code:"ERR_AMOUNT_TOO_LONG",message:"Amount too long"},28167:{code:"ERR_CONTRACT_DATA_DISABLED",message:"Contract data disabled in app options"},28168:{code:"ERR_MESSAGE_INCOMPLETE",message:"Message incomplete"},28176:{code:"ERR_SIGNATURE_FAILED",message:"Signature failed"},28169:{code:"ERR_WRONG_TX_VERSION",message:"Wrong TX version"},28170:{code:"ERR_NONCE_TOO_LONG",message:"Nonce too long"},28171:{code:"ERR_INVALID_AMOUNT",message:"Invalid amount"},28172:{code:"ERR_INVALID_FEE",message:"Invalid fee"},28173:{code:"ERR_PRETTY_FAILED",message:"Pretty failed"},28174:{code:"ERR_DATA_TOO_LONG",message:"Data too long"},28175:{code:"ERR_WRONG_TX_OPTIONS",message:"Invalid transaction options"},28177:{code:"ERR_SIGN_TX_DEPRECATED",message:"Regular transaction signing is deprecated in this version. Use hash signing."}}});var $i=L(()=>{"use strict";n()});var bt,Qn=L(()=>{"use strict";n();bt="transaction-status-toast-id"});var Oe,Vi=L(()=>{"use strict";n();Oe=require("@multiversx/sdk-web-wallet-provider")});var Hi=L(()=>{"use strict";n()});var Kt,Pr,ji,qi,zi,Lt,Dr,Ki,Et,V=L(()=>{"use strict";n();at();Wi();Jn();$i();Qn();Vi();Hi();Kt=5e4,Pr=1e9,ji=1,qi=1,zi="/dapp/init",Lt="signSession",Dr="logout",Ki="login",Et="0"});var kt,Cr=L(()=>{"use strict";n();kt=()=>Date.now()/1e3});var Yi=L(()=>{"use strict";n()});var Xi=L(()=>{"use strict";n()});var eo=L(()=>{"use strict";n();Cr();Yi();Xi()});var ro={};rt(ro,{getItem:()=>tp,localStorageKeys:()=>Ie,removeItem:()=>rp,setItem:()=>ep});var Ie,to,ep,tp,rp,Pt=L(()=>{"use strict";n();eo();Ie={loginExpiresAt:"sdk-dapp-login-expires-at",logoutEvent:"sdk-dapp-logout-event"},to=typeof localStorage!="undefined",ep=({key:e,data:t,expires:r})=>{!to||localStorage.setItem(String(e),JSON.stringify({expires:r,data:t}))},tp=e=>{if(!to)return;let t=localStorage.getItem(String(e));if(!t)return null;let r=JSON.parse(t);return!r||!r.hasOwnProperty("expires")||!r.hasOwnProperty("data")?null:kt()>=r.expires?(localStorage.removeItem(String(e)),null):r.data},rp=e=>{!to||localStorage.removeItem(String(e))}});var no={};rt(no,{clear:()=>es,getItem:()=>Ji,removeItem:()=>Qi,setItem:()=>Zi,storage:()=>np});var Zi,Ji,Qi,es,np,ts=L(()=>{"use strict";n();Zi=({key:e,data:t,expires:r})=>{sessionStorage.setItem(String(e),JSON.stringify({expires:r,data:t}))},Ji=e=>{let t=sessionStorage.getItem(String(e));if(!t)return null;let r=JSON.parse(t);return!r||!r.hasOwnProperty("expires")||!r.hasOwnProperty("data")?null:Date.now()>=r.expires?(sessionStorage.removeItem(String(e)),null):r.data},Qi=e=>sessionStorage.removeItem(String(e)),es=()=>sessionStorage.clear(),np={setItem:Zi,getItem:Ji,removeItem:Qi,clear:es}});var _e,Dt=L(()=>{"use strict";n();Pt();ts();_e={session:no,local:ro}});var oo,Q,re,ne=L(()=>{"use strict";n();oo=require("@reduxjs/toolkit");V();Q=(0,oo.createAction)(Dr),re=(0,oo.createAction)(Ki,e=>({payload:e}))});var so,rs,ns,Nr,io,os,Rr,ig,ao,sg,co,is,ag,cg,lg,ss,Mr,Or=L(()=>{"use strict";n();so=require("@multiversx/sdk-core"),rs=require("@reduxjs/toolkit"),ns=require("redux-persist");V();Dt();Pt();ne();Nr={balance:"...",address:"",nonce:0,txCount:0,scrCount:0,claimableRewards:Et},io={address:"",websocketEvent:null,accounts:{"":Nr},ledgerAccount:null,publicKey:"",walletConnectAccount:null,isAccountLoading:!0,accountLoadingError:null},os=(0,rs.createSlice)({name:"accountInfoSlice",initialState:io,reducers:{setAddress:(e,t)=>{let r=t.payload;e.address=r,e.publicKey=new so.Address(r).hex()},setAccount:(e,t)=>{let r=e.address===t.payload.address;e.accounts={[e.address]:r?t.payload:Nr},e.shard=t.payload.shard,e.isAccountLoading=!1,e.accountLoadingError=null},setAccountNonce:(e,t)=>{let{address:r}=e;e.accounts[r].nonce=t.payload},setAccountShard:(e,t)=>{e.shard=t.payload},setLedgerAccount:(e,t)=>{e.ledgerAccount=t.payload},updateLedgerAccount:(e,t)=>{e.ledgerAccount!=null&&(e.ledgerAccount.index=t.payload.index,e.ledgerAccount.address=t.payload.address)},setWalletConnectAccount:(e,t)=>{e.walletConnectAccount=t.payload},setIsAccountLoading:(e,t)=>{e.isAccountLoading=t.payload,e.accountLoadingError=null},setAccountLoadingError:(e,t)=>{e.accountLoadingError=t.payload,e.isAccountLoading=!1},setWebsocketEvent:(e,t)=>{e.websocketEvent={timestamp:Date.now(),message:t.payload}}},extraReducers:e=>{e.addCase(Q,()=>(_e.local.removeItem(Ie.loginExpiresAt),io)),e.addCase(re,(t,r)=>{let{address:o}=r.payload;t.address=o,t.publicKey=new so.Address(o).hex()}),e.addCase(ns.REHYDRATE,(t,r)=>{var m;if(!((m=r.payload)!=null&&m.account))return;let{account:o}=r.payload,{address:i,shard:p,accounts:l,publicKey:u}=o;t.address=i,t.shard=p;let d=l&&i in l;t.accounts=d?l:io.accounts,t.publicKey=u})}}),{setAccount:Rr,setAddress:ig,setAccountNonce:ao,setAccountShard:sg,setLedgerAccount:co,updateLedgerAccount:is,setWalletConnectAccount:ag,setIsAccountLoading:cg,setAccountLoadingError:lg,setWebsocketEvent:ss}=os.actions,Mr=os.reducer});function Yt(){return new Date().setHours(new Date().getHours()+24)}function Xt(e){_e.local.setItem({key:Ie.loginExpiresAt,data:e,expires:e})}var lo=L(()=>{"use strict";n();Dt();Pt()});var cs,as,ls,Sg,_r,ps,Fr,xg,us,ds,wg,Ur,Br=L(()=>{"use strict";n();cs=require("@reduxjs/toolkit");lo();z();ne();as={loginMethod:"",walletConnectLogin:null,ledgerLogin:null,tokenLogin:null,walletLogin:null,extensionLogin:null,operaLogin:null,isLoginSessionInvalid:!1},ls=(0,cs.createSlice)({name:"loginInfoSlice",initialState:as,reducers:{setLoginMethod:(e,t)=>{e.loginMethod=t.payload},setTokenLogin:(e,t)=>{e.tokenLogin=t.payload},setTokenLoginSignature:(e,t)=>{(e==null?void 0:e.tokenLogin)!=null&&(e.tokenLogin.signature=t.payload)},setWalletLogin:(e,t)=>{e.walletLogin=t.payload},setWalletConnectLogin:(e,t)=>{e.walletConnectLogin=t.payload},setLedgerLogin:(e,t)=>{e.ledgerLogin=t.payload},invalidateLoginSession:e=>{e.isLoginSessionInvalid=!0},setLogoutRoute:(e,t)=>{e.logoutRoute=t.payload}},extraReducers:e=>{e.addCase(Q,()=>as),e.addCase(re,(t,r)=>{t.loginMethod=r.payload.loginMethod,Xt(Yt())})}}),{setLoginMethod:Sg,setWalletConnectLogin:_r,setLedgerLogin:ps,setTokenLogin:Fr,setTokenLoginSignature:xg,setWalletLogin:us,invalidateLoginSession:ds,setLogoutRoute:wg}=ls.actions,Ur=ls.reducer});var gs,ms,fs,bg,op,Lg,Ts,Gr,Wr=L(()=>{"use strict";n();gs=require("@reduxjs/toolkit");ne();ms={},fs=(0,gs.createSlice)({name:"modalsSlice",initialState:ms,reducers:{setTxSubmittedModal:(e,t)=>{e.txSubmittedModal=t.payload},setNotificationModal:(e,t)=>{e.notificationModal=t.payload},clearTxSubmittedModal:e=>{e.txSubmittedModal=void 0},clearNotificationModal:e=>{e.notificationModal=void 0}},extraReducers:e=>{e.addCase(Q,()=>ms)}}),{setTxSubmittedModal:bg,setNotificationModal:op,clearTxSubmittedModal:Lg,clearNotificationModal:Ts}=fs.actions,Gr=fs.reducer});var ys,hs,Ct,Zt=L(()=>{"use strict";n();ys=!1,hs=(e=!0)=>{ys=e},Ct=(e,t=0)=>{ys||setTimeout(()=>{!window||(window.location.href=e,window.location.assign(e))},t)}});function Ae({callbackRoute:e,onLoginRedirect:t,options:r}){let o=Boolean(e),i=typeof t=="function",p=i?0:ip;o&&e!=null&&setTimeout(()=>{if(i)return t(e,r);window!=null&&window.location.pathname.includes(e)||Ct(e)},p)}var ip,Ss=L(()=>{"use strict";n();Zt();ip=200});function po(e){return e[Math.floor(Math.random()*e.length)]}var xs=L(()=>{"use strict";n()});function ct(e){let t=null;if((e==null?void 0:e.statusCode)in Zn){let r=e==null?void 0:e.statusCode,{message:o}=Zn[r];t=cp.includes(r)?ws:o}return{errorMessage:t,defaultErrorMessage:ws}}var ws,sp,ap,cp,uo=L(()=>{"use strict";n();Jn();ws="Check if the MultiversX app is open on Ledger",sp=28161,ap=28160,cp=[sp,ap]});var lt=L(()=>{"use strict";n();Ss();xs();uo()});var vs,Is,mo,lp,As,Gg,Wg,$r,Vr=L(()=>{"use strict";n();vs=require("@reduxjs/toolkit"),Is=O(require("lodash.omit"));lt();mo={id:"not-configured",chainId:"",name:"NOT CONFIGURED",egldLabel:"",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"",walletConnectBridgeAddress:"",walletConnectV2RelayAddress:"",walletConnectV2ProjectId:"",walletConnectV2Options:{},walletAddress:"",apiAddress:"",explorerAddress:"",apiTimeout:"4000"},lp={network:mo,chainID:"-1"},As=(0,vs.createSlice)({name:"appConfig",initialState:lp,reducers:{initializeNetworkConfig:(e,t)=>{let r=po(t.payload.walletConnectBridgeAddresses),o=po(t.payload.walletConnectV2RelayAddresses),i=(0,Is.default)(t.payload,"walletConnectBridgeAddresses","walletConnectV2RelayAddresses");e.network=R(h(h({},e.network),i),{walletConnectBridgeAddress:r,walletConnectV2RelayAddress:o})},setChainID:(e,t)=>{e.chainID=t.payload}}}),{initializeNetworkConfig:Gg,setChainID:Wg}=As.actions,$r=As.reducer});var bs,go,Ls,zg,Kg,Yg,Hr,jr=L(()=>{"use strict";n();bs=require("@reduxjs/toolkit");J();ne();go={isSigning:!1,signedSessions:{}},Ls=(0,bs.createSlice)({name:"signedMessageInfoSliceState",initialState:go,reducers:{setSignSession:(e,t)=>{let{sessionId:r,signedSession:o,errorMessage:i}=t.payload;i&&(e.errorMessage=i),e.isSigning=o.status==="pending",e.signedSessions[r]=o},setSignSessionState:(e,t)=>h(h({},e),t.payload),clearSignedMessageInfo:()=>go},extraReducers:e=>{e.addCase(Q,()=>go)}}),{setSignSession:zg,clearSignedMessageInfo:Kg,setSignSessionState:Yg}=Ls.actions,Hr=Ls.reducer});var ks,Ps,Es,Ds,pp,Jt,nf,of,sf,af,qr,zr=L(()=>{"use strict";n();ks=require("@reduxjs/toolkit"),Ps=require("redux-persist");Qn();J();Cr();ne();Es={customToasts:[],transactionToasts:[],failTransactionToast:null},Ds=(0,ks.createSlice)({name:"toastsSlice",initialState:Es,reducers:{addCustomToast:(e,t)=>{e.customToasts.push(R(h({},t.payload),{type:"custom",toastId:t.payload.toastId||`custom-toast-${e.customToasts.length+1}`}))},removeCustomToast:(e,t)=>{e.customToasts=e.customToasts.filter(r=>r.toastId!==t.payload)},addTransactionToast:(e,t)=>{e.transactionToasts.push({type:"transaction",startTimestamp:kt(),toastId:t.payload||`custom-toast-${e.transactionToasts.length+1}`})},removeTransactionToast:(e,t)=>{e.transactionToasts=e.transactionToasts.filter(r=>r.toastId!==t.payload)},addFailTransactionToast:(e,t)=>{e.failTransactionToast=R(h({},t.payload),{toastId:bt})},removeFailTransactionToast:e=>{e.failTransactionToast=null}},extraReducers:e=>{e.addCase(Q,()=>Es),e.addCase(Ps.REHYDRATE,(t,r)=>{var i,p;let o=(p=(i=r.customToasts)==null?void 0:i.filter(l=>!("component"in l)))!=null?p:[];t.customToasts=o})}}),{addCustomToast:pp,removeCustomToast:Jt,addTransactionToast:nf,removeTransactionToast:of,addFailTransactionToast:sf,removeFailTransactionToast:af}=Ds.actions,qr=Ds.reducer});var Cs,To,yo,ho,up,fo,Ns,uf,dp,Nt,Kr,Yr=L(()=>{"use strict";n();Cs=require("@reduxjs/toolkit");ne();To="Transaction failed",yo="Transaction successful",ho="Processing transaction",up="Transaction submitted",fo={},Ns=(0,Cs.createSlice)({name:"transactionsInfo",initialState:fo,reducers:{setTransactionsDisplayInfo(e,t){let{sessionId:r,transactionsDisplayInfo:o}=t.payload;r!=null&&(e[r]={errorMessage:(o==null?void 0:o.errorMessage)||To,successMessage:(o==null?void 0:o.successMessage)||yo,processingMessage:(o==null?void 0:o.processingMessage)||ho,submittedMessage:(o==null?void 0:o.submittedMessage)||up,transactionDuration:o==null?void 0:o.transactionDuration})},clearTransactionsInfoForSessionId(e,t){t.payload!=null&&delete e[t.payload]},clearTransactionsInfo:()=>fo},extraReducers:e=>{e.addCase(Q,()=>fo)}}),{clearTransactionsInfo:uf,setTransactionsDisplayInfo:dp,clearTransactionsInfoForSessionId:Nt}=Ns.actions,Kr=Ns.reducer});function Fe(e){return e!=null&&(xp(e)||Ap(e))}function ze(e){return e!=null&&(wp(e)||bp(e))}function Ke(e){return e!=null&&(vp(e)||Lp(e))}function Xr(e){return e!=null&&Ip(e)}function xp(e){return e!=null&&mp.includes(e)}function wp(e){return e!=null&&gp.includes(e)}function vp(e){return e!=null&&fp.includes(e)}function Ip(e){return e!=null&&Tp.includes(e)}function Ap(e){return e!=null&&yp.includes(e)}function bp(e){return e!=null&&hp.includes(e)}function Lp(e){return e!=null&&Sp.includes(e)}var mp,gp,fp,Tp,yp,hp,Sp,Mt=L(()=>{"use strict";n();z();mp=["sent"],gp=["success"],fp=["fail","cancelled","timedOut"],Tp=["timedOut"],yp=["pending"],hp=["success"],Sp=["fail","invalid"]});var Rs,Ms,Qt,Ep,Os,er,Zr,kp,Ye,_s,Pp,xf,Fs,ut,Ue,Jr,Qr=L(()=>{"use strict";n();Rs=require("@reduxjs/toolkit"),Ms=require("redux-persist");z();Mt();ne();Qt={signedTransactions:{},transactionsToSign:null,signTransactionsError:null,signTransactionsCancelMessage:null,customTransactionInformationForSessionId:{}},Ep={signWithoutSending:!1,sessionInformation:null,redirectAfterSign:!1},Os=(0,Rs.createSlice)({name:"transactionsSlice",initialState:Qt,reducers:{moveTransactionsToSignedState:(e,t)=>{var d,m;let{sessionId:r,transactions:o,errorMessage:i,status:p,redirectRoute:l}=t.payload,u=((d=e.customTransactionInformationForSessionId)==null?void 0:d[r])||Ep;e.signedTransactions[r]={transactions:o,status:p,errorMessage:i,redirectRoute:l,customTransactionInformation:u},((m=e==null?void 0:e.transactionsToSign)==null?void 0:m.sessionId)===r&&(e.transactionsToSign=Qt.transactionsToSign)},clearSignedTransaction:(e,t)=>{e.signedTransactions[t.payload]&&delete e.signedTransactions[t.payload]},clearTransactionToSign:e=>{e!=null&&e.transactionsToSign&&(e.transactionsToSign=null)},updateSignedTransaction:(e,t)=>{e.signedTransactions=h(h({},e.signedTransactions),t.payload)},updateSignedTransactions:(e,t)=>{let{sessionId:r,status:o,errorMessage:i,transactions:p}=t.payload;e.signedTransactions[r]!=null&&(e.signedTransactions[r].status=o,i!=null&&(e.signedTransactions[r].errorMessage=i),p!=null&&(e.signedTransactions[r].transactions=p))},updateSignedTransactionStatus:(e,t)=>{var u,d,m,g,T,x;let{sessionId:r,status:o,errorMessage:i,transactionHash:p}=t.payload,l=(d=(u=e.signedTransactions)==null?void 0:u[r])==null?void 0:d.transactions;if(l!=null){e.signedTransactions[r].transactions=l.map(b=>b.hash===p?R(h({},b),{status:o,errorMessage:i}):b);let y=(g=(m=e.signedTransactions[r])==null?void 0:m.transactions)==null?void 0:g.every(b=>ze(b.status)),w=(x=(T=e.signedTransactions[r])==null?void 0:T.transactions)==null?void 0:x.every(b=>Ke(b.status));y&&(e.signedTransactions[r].status="success"),w&&(e.signedTransactions[r].status="fail")}},setTransactionsToSign:(e,t)=>{e.transactionsToSign=t.payload;let{sessionId:r,customTransactionInformation:o}=t.payload;e.customTransactionInformationForSessionId[r]=o,e.signTransactionsError=null},clearAllTransactionsToSign:e=>{e.transactionsToSign=Qt.transactionsToSign,e.signTransactionsError=null},clearAllSignedTransactions:e=>{e.signedTransactions=Qt.signedTransactions},setSignTransactionsError:(e,t)=>{e.signTransactionsError=t.payload},setSignTransactionsCancelMessage:(e,t)=>{e.signTransactionsCancelMessage=t.payload}},extraReducers:e=>{e.addCase(Q,()=>Qt),e.addCase(Ms.REHYDRATE,(t,r)=>{var l;if(t.signTransactionsCancelMessage=null,!((l=r.payload)!=null&&l.transactions))return;let{signedTransactions:o,customTransactionInformationForSessionId:i}=r.payload.transactions,p=Object.entries(o).reduce((u,[d,m])=>{let g=new Date(d),T=new Date;return T.setHours(T.getHours()+5),T-g>0||(u[d]=m),u},{});i!=null&&(t.customTransactionInformationForSessionId=i),o!=null&&(t.signedTransactions=p)})}}),{updateSignedTransactionStatus:er,updateSignedTransactions:Zr,setTransactionsToSign:kp,clearAllTransactionsToSign:Ye,clearAllSignedTransactions:_s,clearSignedTransaction:Pp,clearTransactionToSign:xf,setSignTransactionsError:Fs,setSignTransactionsCancelMessage:ut,moveTransactionsToSignedState:Ue}=Os.actions,Jr=Os.reducer});var H=L(()=>{"use strict";n();Or();Br();Wr();Vr();jr();zr();Yr();Qr()});var So=L(()=>{"use strict";n()});var $s,Ws,Vs,Hf,jf,qf,zf,Kf,Yf,Hs,js=L(()=>{"use strict";n();$s=require("@reduxjs/toolkit");ne();Ws={visible:!1,modal:{showHeader:!0,showFooter:!1,headerText:"",footerText:""}},Vs=(0,$s.createSlice)({name:"dappModalsSlice",initialState:Ws,reducers:{setDappModalVisibility:(e,t)=>{e.visible=t.payload},setDappModalHeaderVisibility:(e,t)=>{e.modal.showHeader=t.payload},setDappModalFooterVisibility:(e,t)=>{e.modal.showFooter=t.payload},setDappModalHeaderText:(e,t)=>{e.modal.headerText=t.payload},setDappModalFooterText:(e,t)=>{e.modal.footerText=t.payload},setDappModalConfig:(e,t)=>{e.modal=h({},t.payload)}},extraReducers:e=>{e.addCase(Q,()=>Ws)}}),{setDappModalVisibility:Hf,setDappModalHeaderVisibility:jf,setDappModalFooterVisibility:qf,setDappModalHeaderText:zf,setDappModalFooterText:Kf,setDappModalConfig:Yf}=Vs.actions,Hs=Vs.reducer});var qs,Rp,Mp,dt,nn=L(()=>{"use strict";n();qs=require("@reduxjs/toolkit");So();Or();js();Br();Wr();Vr();jr();zr();Yr();Qr();Rp={["account"]:Mr,["dappModal"]:Hs,["loginInfo"]:Ur,["modals"]:Gr,["networkConfig"]:$r,["signedMessageInfo"]:Hr,["toasts"]:qr,["transactionsInfo"]:Kr,["transactions"]:Jr},Mp=(e={})=>(0,qs.combineReducers)(h(h({},Rp),e)),dt=Mp});var Xs={};rt(Xs,{default:()=>Yp,sessionStorageReducers:()=>xo});function Xe(e,t=[]){return{key:e,version:1,storage:Ks.default,blacklist:t}}var fe,zs,Ks,Op,rr,_p,Fp,Up,Bp,Gp,Wp,$p,Vp,Hp,Ys,jp,xo,qp,zp,Kp,Yp,Zs=L(()=>{"use strict";n();fe=require("redux-persist"),zs=O(require("redux-persist/lib/storage")),Ks=O(require("redux-persist/lib/storage/session"));nn();H();Or();Br();Wr();Vr();jr();zr();Yr();Qr();So();Op={persistReducersStorageType:"localStorage"},rr={["account"]:"sdk-dapp-account",["loginInfo"]:"sdk-dapp-login-info",["modals"]:"sdk-dapp-modals",["networkConfig"]:"sdk-dapp-network-config"},_p=Xe(rr["account"]),Fp=Xe(rr["loginInfo"]),Up=Xe(rr["modals"]),Bp=Xe(rr["networkConfig"]),Gp={2:e=>R(h({},e),{networkConfig:mo})};Wp=Xe("sdk-dapp-transactionsInfo"),$p=Xe("sdk-dapp-transactions",["transactionsToSign"]),Vp=Xe("sdk-dapp-toasts"),Hp=Xe("sdk-dapp-signedMessageInfo"),Ys={key:"sdk-dapp-store",version:2,storage:zs.default,whitelist:Object.keys(rr),migrate:(0,fe.createMigrate)(Gp,{debug:!1})},jp=R(h({},Ys),{whitelist:[]}),xo={["toasts"]:(0,fe.persistReducer)(Vp,qr),["transactions"]:(0,fe.persistReducer)($p,Jr),["transactionsInfo"]:(0,fe.persistReducer)(Wp,Kr),["signedMessageInfo"]:(0,fe.persistReducer)(Hp,Hr)},qp=R(h({},xo),{["account"]:(0,fe.persistReducer)(_p,Mr),["loginInfo"]:(0,fe.persistReducer)(Fp,Ur),["modals"]:(0,fe.persistReducer)(Up,Gr),["networkConfig"]:(0,fe.persistReducer)(Bp,$r)}),zp=Op.persistReducersStorageType==="localStorage",Kp=zp?(0,fe.persistReducer)(Ys,dt(xo)):(0,fe.persistReducer)(jp,dt(qp)),Yp=Kp});var Js={};rt(Js,{default:()=>Xp});var Xp,Qs=L(()=>{"use strict";n();nn();Xp=dt()});var ea={};rt(ea,{default:()=>Jp});var Se,Zp,Jp,ta=L(()=>{"use strict";n();Se=require("redux-persist"),Zp=[Se.FLUSH,Se.REHYDRATE,Se.PAUSE,Se.PERSIST,Se.PURGE,Se.REGISTER],Jp=Zp});var oa={};rt(oa,{default:()=>na});function na(e){return(0,ra.persistStore)(e)}var ra,ia=L(()=>{"use strict";n();ra=require("redux-persist")});var bc=me((pP,Ac)=>{n();var gd=typeof a=="object"&&a&&a.Object===Object&&a;Ac.exports=gd});var Ec=me((uP,Lc)=>{n();var fd=bc(),Td=typeof self=="object"&&self&&self.Object===Object&&self,yd=fd||Td||Function("return this")();Lc.exports=yd});var Zo=me((dP,kc)=>{n();var hd=Ec(),Sd=hd.Symbol;kc.exports=Sd});var Nc=me((mP,Cc)=>{n();var Pc=Zo(),Dc=Object.prototype,xd=Dc.hasOwnProperty,wd=Dc.toString,yr=Pc?Pc.toStringTag:void 0;function vd(e){var t=xd.call(e,yr),r=e[yr];try{e[yr]=void 0;var o=!0}catch(p){}var i=wd.call(e);return o&&(t?e[yr]=r:delete e[yr]),i}Cc.exports=vd});var Mc=me((gP,Rc)=>{n();var Id=Object.prototype,Ad=Id.toString;function bd(e){return Ad.call(e)}Rc.exports=bd});var Uc=me((fP,Fc)=>{n();var Oc=Zo(),Ld=Nc(),Ed=Mc(),kd="[object Null]",Pd="[object Undefined]",_c=Oc?Oc.toStringTag:void 0;function Dd(e){return e==null?e===void 0?Pd:kd:_c&&_c in Object(e)?Ld(e):Ed(e)}Fc.exports=Dd});var Gc=me((TP,Bc)=>{n();var Cd=Array.isArray;Bc.exports=Cd});var $c=me((yP,Wc)=>{n();function Nd(e){return e!=null&&typeof e=="object"}Wc.exports=Nd});var Hc=me((hP,Vc)=>{n();var Rd=Uc(),Md=Gc(),Od=$c(),_d="[object String]";function Fd(e){return typeof e=="string"||!Md(e)&&Od(e)&&Rd(e)==_d}Vc.exports=Fd});var Jd={};rt(Jd,{useCheckTransactionStatus:()=>$u,useDebounce:()=>Gd,useExtensionLogin:()=>el,useGetAccount:()=>et,useGetAccountInfo:()=>jo,useGetAccountProvider:()=>He,useGetActiveTransactionsStatus:()=>Vu,useGetFailedTransactions:()=>Hu,useGetIsLoggedIn:()=>td,useGetLastPendingTransactionHash:()=>ju,useGetLoginInfo:()=>zo,useGetNetworkConfig:()=>cr,useGetNotification:()=>Mu,useGetPendingTransactions:()=>lr,useGetSignTransactionsError:()=>qu,useGetSignedTransactions:()=>$o,useGetSuccessfulTransactions:()=>zu,useGetTokenDetails:()=>Yu,useGetTransactionDisplayInfo:()=>Xu,useGetWebsocketEvent:()=>rd,useGetWebsocketUrl:()=>jd,useIsDappModalVisible:()=>Zd,useLedgerLogin:()=>al,useOperaLogin:()=>rl,useParseMultiEsdtTransferData:()=>Vo,useParseSignedTransactions:()=>gr,useRegisterWebsocketListener:()=>Xd,useSignMultipleTransactions:()=>Ho,useSignTransactions:()=>nd,useSignTransactionsCommonData:()=>fr,useSignTransactionsWithDevice:()=>Xo,useSignTransactionsWithLedger:()=>od,useTrackTransactionStatus:()=>Bd,useUpdateEffect:()=>ft,useWalletConnectLogin:()=>cl,useWalletConnectV2Login:()=>ll,useWebWalletLogin:()=>il});module.exports=zt(Jd);n();n();n();var ua=require("react"),Ot=require("react-redux");n();var wo=require("@reduxjs/toolkit"),la=require("react-redux/lib/utils/Subscription");H();n();var Bs=O(require("lodash.throttle"));V();n();var Us=O(require("lodash.isequal")),en=require("reselect");J();var A=(0,en.createSelectorCreator)(en.defaultMemoize,Us.default),tr=(e,t)=>e!=""&&Boolean(t);H();lo();Dt();Pt();var Dp=[Dr],tn=!1,Cp=(0,Bs.default)(()=>{Xt(Yt())},5e3),Gs=e=>t=>r=>{var d;if(Dp.includes(r.type))return t(r);let o=e.getState(),i=_e.local.getItem(Ie.loginExpiresAt);if(!tr((d=o==null?void 0:o.loginInfo)==null?void 0:d.loginMethod,o==null?void 0:o.account.address))return t(r);if(i==null)return Xt(Yt());let l=Date.now();return i-l<0&&!tn?setTimeout(()=>{tn=!0,e.dispatch(ds())},1e3):(tn&&(tn=!1),Cp()),t(r)};n();n();function rn(){return typeof sessionStorage!="undefined"}var sa=rn()?(Zs(),zt(Xs)).default:(Qs(),zt(Js)).default,aa=rn()?(ta(),zt(ea)).default:[],ca=rn()?(ia(),zt(oa)).default:e=>e;nn();var P=(0,wo.configureStore)({reducer:sa,middleware:e=>e({serializableCheck:{ignoredActions:[...aa,ao.type,Rr.type],ignoredPaths:["payload.nonce","account.account.nonce","providers.accountProvider"]}}).concat(Gs)}),pa=(0,la.createSubscription)(P),LT=ca(P),ET=(0,wo.configureStore)({reducer:dt});var Qp={store:P,subscription:pa},vo=(0,ua.createContext)(Qp),CT=(0,Ot.createStoreHook)(vo),W=(0,Ot.createDispatchHook)(vo),I=(0,Ot.createSelectorHook)(vo);n();n();H();var $e=e=>e.account,Ze=A($e,e=>e.address),_t=A($e,Ze,(e,t)=>t in e.accounts?e.accounts[t]:Nr),da=A($e,_t,(e,t)=>{let i=e,{accounts:r}=i,o=Ar(i,["accounts"]);return R(h({},o),{account:t})}),eu=A(_t,e=>e.balance),ma=A(_t,e=>{var t;return((t=e==null?void 0:e.nonce)==null?void 0:t.valueOf())||0}),OT=A($e,e=>e.shard),ga=A($e,e=>e.ledgerAccount),_T=A($e,e=>e.walletConnectAccount),FT=A($e,e=>e.isAccountLoading),UT=A($e,e=>e.accountLoadingError),on=A($e,e=>e.websocketEvent);n();var xe=e=>e.loginInfo,$T=A(xe,e=>e.loginMethod),Ft=A(xe,Ze,(e,t)=>tr(e.loginMethod,t)),VT=A(xe,e=>e.walletConnectLogin),HT=A(xe,e=>e.ledgerLogin),fa=A(xe,e=>e.walletLogin),jT=A(xe,e=>e.isLoginSessionInvalid),Ta=A(xe,e=>e.tokenLogin),qT=A(xe,e=>e.logoutRoute);n();var ya=e=>e.modals,YT=A(ya,e=>e.txSubmittedModal),ha=A(ya,e=>e.notificationModal);n();var be=e=>e.networkConfig,nr=A(be,e=>e.chainID),Sa=A(be,e=>e.network.walletConnectBridgeAddress),xa=A(be,e=>e.network.walletConnectV2RelayAddress),wa=A(be,e=>e.network.walletConnectV2ProjectId),va=A(be,e=>e.network.walletConnectV2Options),sn=A(be,e=>e.network.walletConnectDeepLink),Le=A(be,e=>e.network),an=A(Le,e=>e.apiAddress),Ia=A(Le,e=>e.explorerAddress),Io=A(Le,e=>e.egldLabel);n();var cn=e=>e.signedMessageInfo,ey=A(cn,e=>e.isSigning),ty=A(cn,e=>e.errorMessage),ry=A(cn,e=>{let t=Object.keys(e.signedSessions),r=t.length;return e.signedSessions[t[r-1]]}),ny=A(cn,e=>{let t=Object.keys(e.signedSessions),r=t.length;return t.length>0?t[r-1]:""});n();var Ao=e=>e.toasts,sy=A(Ao,e=>e.customToasts),ay=A(Ao,e=>e.transactionToasts),cy=A(Ao,e=>e.failTransactionToast);n();H();var Aa={errorMessage:To,successMessage:yo,processingMessage:ho},tu=e=>e.transactionsInfo,ba=A(tu,(e,t)=>t,(e,t)=>t!=null&&(e==null?void 0:e[Number(t)])||Aa);n();n();var Te=require("@multiversx/sdk-core");V();n();function ln(e){try{return s.Buffer.from(e,"base64").toString()===atob(e)}catch(t){return!1}}function mt(e){return ln(e)?atob(e):e}function or(e){var i,p,l;let{data:t}=e,r=ln(t!=null?t:"")?Te.TransactionPayload.fromEncoded(t):new Te.TransactionPayload(t),o=new Te.Transaction(h({value:e.value.valueOf(),data:r,nonce:e.nonce.valueOf(),receiver:new Te.Address(e.receiver),sender:new Te.Address(e.sender),gasLimit:(i=e.gasLimit.valueOf())!=null?i:Kt,gasPrice:(p=e.gasPrice.valueOf())!=null?p:Pr,chainID:e.chainID.valueOf(),version:new Te.TransactionVersion((l=e.version)!=null?l:ji)},e.options?{options:new Te.TransactionOptions(e.options)}:{}));return o.applySignature({hex:()=>e.signature||""},new Te.Address(e.sender)),o}n();n();function ru(e,t){let r=new URLSearchParams(e),o=Object.fromEntries(r);return{nextUrlParams:new URLSearchParams(h(h({},o),t)).toString(),params:o}}function La({callbackUrl:e,urlParams:t={}}){let r=e;if(Object.entries(t).length>0){let{search:o,origin:i,pathname:p}=new URL(e),{nextUrlParams:l}=ru(o,t);r=`${i}${p}?${l}`}return r}n();n();n();var ou=require("@multiversx/sdk-core/out");n();V();n();var ka=require("@multiversx/sdk-core");J();n();var Ea=require("@multiversx/sdk-core");function iu(e){try{let t=new Ea.Address(e);return Boolean(t.bech32())}catch(t){return!1}}function Ut(e){return(e==null?void 0:e.startsWith("erd"))&&e.length===62&&/^\w+$/.test(e)&&iu(e)}n();n();n();var Eo=require("@multiversx/sdk-core"),ko=O(require("bignumber.js"));z();n();n();function bo(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}function ir(e){let t=e;try{let r=s.Buffer.from(e,"hex").toString();bo(r)&&r.length>1&&(t=r)}catch(r){}return t}var Lo={tokenId:"",amount:""},su=e=>e.split("@").map((p,l)=>[2,3].includes(l)?p:ir(p));function Po(e){if(!e)return Lo;let t=e.startsWith("ESDTTransfer"),r=e.startsWith("ESDTNFTTransfer")&&e.includes("@");if(t){let[,o,i]=e.split("@");try{let p=s.Buffer.from(o,"hex").toString("ascii");if(!p)return Lo;let l=new ko.default("0x"+i.replace("0x","")).toString(10);return{tokenId:p,amount:l}}catch(p){console.error("Error getting token from transaction data",p)}}if(r)try{let[,o,i,p,l]=su(e);if([o,i,p,l].every(u=>Boolean(u))&&Ut(new Eo.Address(l).bech32()))return{tokenId:`${o}-${i}`,amount:new ko.default(p,16).toString(10),collection:o,nonce:i,receiver:new Eo.Address(l).bech32()}}catch(o){}return Lo}n();n();n();var sr="accounts";var Do="blocks";var Co="collections";var No="tokens";n();n();n();n();le();n();n();le();n();n();n();var du=O(require("bignumber.js"));V();n();var uu=require("@multiversx/sdk-core"),Ro=O(require("bignumber.js"));V();n();var lu=O(require("bignumber.js"));n();Ro.default.config({ROUNDING_MODE:Ro.default.ROUND_FLOOR});n();n();n();V();n();n();n();n();V();n();V();n();var mu=require("@multiversx/sdk-core");V();n();var ar=require("@multiversx/sdk-core"),Tu=require("@multiversx/sdk-network-providers");V();n();n();var gu=O(require("bignumber.js"));V();n();V();n();var Mo={isEsdt:!1,isNft:!1,isEgld:!1};function Oo(e){let t=e==null?void 0:e.split("-").length;return t===2?R(h({},Mo),{isEsdt:!0}):t===3?R(h({},Mo),{isNft:!0}):R(h({},Mo),{isEgld:!0})}n();n();n();n();V();n();le();var hu=["reDelegateRewards","claimRewards","unBond"],Su=["wrapEgld","unwrapEgld"],xu=["unStake"],wu=["unDelegate"];n();n();n();V();n();var Au=O(require("bignumber.js"));n();n();n();n();le();n();var bu=O(require("bignumber.js"));n();n();function Ma({tokenId:e,erdLabel:t}){return Boolean(e&&e!==t)}n();var Fo=O(require("bignumber.js"));J();n();var Oa=(e,t)=>{let r=[],o=e.indexOf(t,0);for(;o>=0;)r.push(o),o=e.indexOf(t,o+1);return r};function _a(e){let t=[],r=0;try{if((e==null?void 0:e.startsWith("MultiESDTNFTTransfer"))&&(e==null?void 0:e.includes("@"))){let[,o,i,...p]=e==null?void 0:e.split("@");if(o){let l=new Fo.default(i,16).toNumber(),u=0;for(let T=0;T<l;T++){let x={type:"nftTransaction",data:"",receiver:o};for(let y=0;y<3;y++){switch(y){case 0:x.token=ir(p[u]),x.data=p[u];break;case 1:{let w=p[u]&&p[u].length?p[u]:"";w&&w!=="00"?x.nonce=w:x.type="esdtTransaction",x.data=`${x.data}@${p[u]}`;break}case 2:x.amount=new Fo.default(p[u],16).toString(10),x.data=`${x.data}@${p[u]}`;break;default:break}r=u+1,u++}t[T]=x}let d=t.length!==l,m=t.some(T=>Oa(T.data,"@").length!==2),g=t.some(T=>T.data.startsWith("@"));if(d||m||g)return[];if(p[r]){let T=p[r];for(let x=r+1;x<p.length;x++)T+="@"+p[x];t[l]={type:"scCall",data:T,receiver:o}}}}}catch(o){return console.error("failed parsing tx",o),t}return t}n();n();n();z();function Bt(e){let r=Object.getPrototypeOf(e).toPlainObject!=null?e:or(e);return R(h({},r.toPlainObject()),{hash:r.getHash().hex(),status:"pending"})}n();n();n();n();le();n();n();n();var Eu=O(require("linkifyjs"));n();V();n();var ku=O(require("bignumber.js"));n();J();n();n();z();n();z();n();n();n();le();n();le();n();var Pu=O(require("bignumber.js"));V();le();n();le();n();var Ua=require("react");J();n();n();le();n();n();var Du=require("@multiversx/sdk-core/out"),Cu=O(require("bignumber.js"));le();n();J();n();n();J();var Wv=[{label:"Raw",value:"raw"},{label:"Text",value:"text"},{label:"Decimal",value:"decimal"},{label:"Smart",value:"smart"}];n();var Ba=require("react");J();n();var Ru=require("react");le();var Kv=["create","localMint","ESDTLocalMint","addQuantity","burn","localBurn","ESDTLocalBurn","wipe","writeLog","signalError"];Mt();var mn=e=>e.transactions,gt=A(mn,e=>e.signedTransactions),Ga=A(mn,e=>e.signTransactionsError),gn=A(mn,e=>e.signTransactionsCancelMessage),fn=e=>t=>Object.entries(t).reduce((r,[o,i])=>(e(i.status)&&(r[o]=i),r),{}),Tn=A(gt,fn(Fe)),yn=A(gt,fn(ze)),hn=A(gt,fn(Ke)),Wa=A(gt,fn(Xr)),Sn=A(mn,e=>{var t;return(e==null?void 0:e.transactionsToSign)==null?null:R(h({},e.transactionsToSign),{transactions:((t=e==null?void 0:e.transactionsToSign)==null?void 0:t.transactions.map(r=>or(r)))||[]})}),$a=A(gt,(e,t)=>t,(e,t)=>t!=null?(e==null?void 0:e[t])||{}:{});var cr=()=>I(be);n();var xn=require("react");function ft(e,t=[]){let r=(0,xn.useRef)(!0);(0,xn.useEffect)(()=>{r.current?r.current=!1:e()},t)}n();H();function Mu(){let e=I(ha),t=W();return{notification:e,clearNotification:()=>t(Ts())}}n();n();n();n();function lr(){let e=I(Tn),t=Object.entries(e),r=(t==null?void 0:t.length)>0;return{pendingTransactions:e,pendingTransactionsArray:t,hasPendingTransactions:r}}n();n();n();n();var Va=require("@multiversx/sdk-extension-provider"),Ha=require("@multiversx/sdk-hw-provider"),ja=require("@multiversx/sdk-opera-provider"),Uo=require("@multiversx/sdk-web-wallet-provider");V();z();n();var pr=Gt,wn=pr;var Ou="/dapp/init",Qe=e=>{switch(e==null?void 0:e.constructor){case Uo.WalletProvider:return"wallet";case pr:return"walletconnect";case wn:return"walletconnectv2";case Ha.HWProvider:return"ledger";case Va.ExtensionProvider:return"extension";case ja.OperaProvider:return"opera";case Gt:return"";default:return"extra"}},qa=e=>new Uo.WalletProvider(`${e}${Ou}`),za=e=>S(void 0,null,function*(){if(!e.isInitialized())throw new Error("Unable to get version. Provider not initialized");let t=e.hwApp,{contractData:r,version:o}=yield t.getAppConfiguration();return{version:o,dataEnabled:r===qi}}),Ve=e=>`Unable to perform ${e}, Provider not initialized`,Gt=class{init(){return Promise.resolve(!1)}login(t){throw new Error(Ve(`login with options: ${t}`))}logout(t){throw new Error(Ve(`logout with options: ${t}`))}getAddress(){throw new Error(Ve("getAddress"))}isInitialized(){return!1}isConnected(){return Promise.resolve(!1)}sendTransaction(t,r){throw new Error(Ve(`sendTransaction with transactions: ${t} options: ${r}`))}signTransaction(t,r){throw new Error(Ve(`signTransaction with transactions: ${t} options: ${r}`))}signTransactions(t,r){throw new Error(Ve(`signTransactions with transactions: ${t} options: ${r}`))}signMessage(t,r){throw new Error(Ve(`signTransactions with ${t} and options ${r}`))}sendCustomMessage({method:t,params:r}){throw new Error(Ve(`sendCustomMessage with method: ${t} params: ${r}`))}sendCustomRequest(t){throw new Error(Ve(`sendSessionEvent with options: ${t}`))}ping(){return Promise.resolve(!1)}},Bo=new Gt;var Ka=Bo;function Ee(e){Ka=e}function pe(){return Ka||Bo}H();n();n();var Xa=O(require("axios"));n();n();var Ya=e=>{let t=e!=null?e:an(P.getState());return t.endsWith("/")?t.slice(0,-1):t};function Za(e){return S(this,null,function*(){if(!e)return null;let r=`${Ya()}/${sr}/${e}`;try{let{data:o}=yield Xa.default.get(r);return o}catch(o){console.error("error fetching configuration for ",r)}return null})}function Wt(e){return S(this,null,function*(){return yield Za(e)})}n();z();n();n();function Ja(){let e=pe();return Qe(e)}function ue(e){return Ja()===e}function ur(){let e=window==null?void 0:window.location.search,t=P.getState(),r=pe(),o=Ze(t),i=Ft(t),p=fa(t);if(!r)throw"provider not initialized";return ue("ledger")&&i?new Promise(l=>{l(o)}):!ue("")&&!ue("wallet")&&!ue("extra")?r.getAddress():new Promise(l=>{if(p!=null){let u=new URLSearchParams(e),d=Object.fromEntries(u);Ut(d.address)&&l(d.address)}i&&l(o),l("")})}n();function dr(e){let t=P.getState(),r=ma(t);return e?r&&!isNaN(r)?Math.max(r,e.nonce):e.nonce:r}var Qa=()=>S(void 0,null,function*(){try{let e=yield ur();try{let t=yield Wt(e);if(t!=null){let r=R(h({},t),{nonce:dr(t)});return P.dispatch(Rr(r)),r}}catch(t){console.error("Failed getting account ",t)}}catch(e){console.error("Failed getting address ",e)}return null});function vn(){return S(this,null,function*(){let e=pe();if(e==null)throw"Provider not initialized";if(!e.isInitialized||e.isInitialized())return Qa();try{if(!e.init)throw"Current provider does not have init() function";return(yield e.init())?Qa():void 0}catch(t){console.error("Failed initializing provider ",t)}})}Mt();n();n();n();var _u=O(require("axios"));n();var ec=O(require("axios"));function tc(e){return S(this,null,function*(){let t=an(P.getState()),r=e.map(i=>i.hash),{data:o}=yield ec.default.get(`${t}/transactions`,{params:{hashes:r.join(","),withScResults:!0}});return e.map(({hash:i,previousStatus:p})=>{let l=o.find(u=>(u==null?void 0:u.txHash)===i);return{hash:i,data:l==null?void 0:l.data,invalidTransaction:l==null,status:l==null?void 0:l.status,results:l==null?void 0:l.results,sender:l==null?void 0:l.sender,receiver:l==null?void 0:l.receiver,previousStatus:p,hasStatusChanged:l&&l.status!==p}})})}n();var Uu=O(require("axios"));n();n();var Bu=O(require("axios"));n();var Gu=O(require("axios"));n();H();z();n();n();H();n();n();var nc=require("@multiversx/sdk-core");n();ne();J();n();Mt();function oc(e,t){return e.reduce((o,{status:i,hash:p})=>(p!=null&&!t.includes(p)&&Fe(i)&&o.push({hash:p,previousStatus:i}),o),[])}n();H();z();function ic({results:e,hash:t,sessionId:r}){let o=e==null?void 0:e.find(i=>(i==null?void 0:i.returnMessage)!=="");P.dispatch(er({transactionHash:t,sessionId:r,status:"fail",errorMessage:o==null?void 0:o.returnMessage})),P.dispatch(Zr({sessionId:r,status:"fail",errorMessage:o==null?void 0:o.returnMessage}))}n();H();J();function Go(e){P.dispatch(Zr({sessionId:e,status:"timedOut"}))}var In={},Wo=[];function Wu({serverTransaction:e,sessionId:t,customTransactionInformation:r,shouldRefreshBalance:o}){let{hash:i,status:p,results:l,invalidTransaction:u,hasStatusChanged:d}=e;try{if(Wo.includes(i))return;if(In[i]>30){Go(t);return}if(u||Fe(p)){In[i]=In[i]?In[i]+1:1;return}d&&(ze(p)&&(r==null?void 0:r.completedTransactionsDelay)!=null?(Wo.push(i),setTimeout(()=>P.dispatch(er({sessionId:t,status:"success",transactionHash:i})),r==null?void 0:r.completedTransactionsDelay)):P.dispatch(er({sessionId:t,status:p,transactionHash:i}))),o||vn(),Ke(p)&&ic({sessionId:t,hash:i,results:l})}catch(m){console.error(m),Go(t)}}function sc(p){return S(this,arguments,function*({sessionId:e,transactionBatch:{transactions:t,customTransactionInformation:r},getTransactionsByHash:o=tc,shouldRefreshBalance:i}){try{if(t==null)return;let l=oc(t,Wo),u=yield o(l);for(let d of u)Wu({serverTransaction:d,sessionId:e,customTransactionInformation:r,shouldRefreshBalance:i})}catch(l){console.error(l)}})}function $u(){let{pendingTransactionsArray:e}=lr();function t(r){return S(this,null,function*(){let o=e.filter(([i,p])=>i!=null&&Fe(p.status));if(o.length>0)for(let[i,p]of o)yield sc(h({sessionId:i,transactionBatch:p},r));r.shouldRefreshBalance&&vn()})}return t}n();function Vu(){var d,m,g;let e=I(Wa),t=I(hn),r=I(yn),o=I(Tn),i=((d=Object.keys(o))==null?void 0:d.length)>0,p=!i&&((m=Object.keys(e))==null?void 0:m.length)>0,l=!i&&!p&&((g=Object.keys(t))==null?void 0:g.length)>0,u=!i&&!p&&!l&&Object.keys(r).length>0;return{pending:i,timedOut:p,fail:l,success:u}}n();function Hu(){let e=I(hn),t=Object.entries(e),r=(t==null?void 0:t.length)>0;return{failedTransactions:e,failedTransactionsArray:t,hasFailedTransactions:r}}n();J();var ju=()=>{var o,i;let{hasPendingTransactions:e,pendingTransactions:t}=lr();if(!e)return"";let r=Object.keys(t).sort().reverse();for(let p of r){let u=(i=(o=t[p].transactions)==null?void 0:o.filter(d=>d.status==="pending"))!=null?i:[];if(u.length>0)return u[u.length-1].hash}return""};n();var qu=()=>I(Ga);n();function $o(){let e=I(gt),t=Object.entries(e),r=(t==null?void 0:t.length)>0;return{signedTransactions:e,signedTransactionsArray:t,hasSignedTransactions:r}}n();function zu(){let e=I(yn),t=Object.entries(e),r=(t==null?void 0:t.length)>0;return{successfulTransactions:e,successfulTransactionsArray:t,hasSuccessfulTransactions:r}}n();var ac=O(require("axios")),cc=O(require("swr"));var Ku=e=>ac.default.get(e).then(t=>t.data);function Yu({tokenId:e}){var x;let{network:t}=cr(),{isEsdt:r,isNft:o}=Oo(e),i=r?No:Co,p=e;if(o){let[y,w]=e.split("-");p=`${y}-${w}`}let{data:l,error:u}=(0,cc.default)(Boolean(p)?`${t.apiAddress}/${i}/${p}`:null,Ku);if(!p)return{tokenDecimals:Number(t.decimals),tokenLabel:"",tokenAvatar:""};let d=l?l==null?void 0:l.decimals:Number(t.decimals),m=l?l==null?void 0:l.name:"",g=l?`${(x=l==null?void 0:l.assets)==null?void 0:x.svgUrl}`:"",T=l==null?void 0:l.assets;return{tokenDecimals:d,tokenLabel:m,tokenAvatar:g,assets:T,error:u}}n();function Xu(e){return I(t=>ba(t,e))}n();var mr=require("react");var lc={tokenId:"",amount:"",type:"",multiTxData:"",receiver:""};function Vo({transactions:e}){let[t,r]=(0,mr.useState)({}),[o,i]=(0,mr.useState)([]);function p(d,m){r(g=>R(h({},g),{[d]:m}))}function l(d,m){return t==null?lc:d in t?t[d]:m!=null&&String(m)in t?t[m]:lc}function u(){if(e&&e.length>0){let d=[];e.forEach((m,g)=>{let T=m.getData().toString(),x=_a(T);if(x.length>0)x.forEach((y,w)=>{let b={transaction:m,multiTxData:y.data,transactionIndex:w};p(y.data,{tokenId:y.token?y.token:"",amount:y.amount?y.amount:"",type:y.type,nonce:y.nonce?y.nonce:"",multiTxData:y.data,receiver:y.receiver}),d.push(b)});else{let{tokenId:y,amount:w}=Po(m.getData().toString());y&&p(m.getData().toString(),{tokenId:y,amount:w,receiver:m.getReceiver().bech32()}),d.push({transaction:m,transactionIndex:g})}}),i(d)}}return(0,mr.useEffect)(()=>{u()},[e==null?void 0:e.length]),{parsedTransactionsByDataField:t,getTxInfoByDataField:l,allTransactions:o}}n();var dc=require("react"),bn=require("@multiversx/sdk-web-wallet-provider"),mc=O(require("qs"));V();H();z();n();var An=e=>{let t=new URLSearchParams(e).toString(),r=window==null?void 0:window.location.pathname,o=t?`?${t}`:"",i=r?`${r}${o}`:"./";setTimeout(()=>{window==null||window.history.replaceState({},document==null?void 0:document.title,i)})};n();var pc,Zu={search:(pc=window==null?void 0:window.location)==null?void 0:pc.search,removeParams:[]},uc=(e,t=Zu)=>{var p,l;let r={},o=(l=t.search)!=null?l:(p=window==null?void 0:window.location)==null?void 0:p.search;if(o){let u=o?new URLSearchParams(o):[];r=Object.fromEntries(u)}let i={};return e.forEach(u=>{i[u]=r[u],delete r[u]}),t.removeParams!=null&&Object.keys(r).forEach(u=>{var m,g;let[d]=u.split("[");(((m=t.removeParams)==null?void 0:m.includes(u))||((g=t.removeParams)==null?void 0:g.includes(d)))&&delete r[u]}),{remainingParams:i,params:r,clearNavigationHistory:()=>An(r)}};function gr(e){let t=window==null?void 0:window.location.search,r=I(Le),o=W();(0,dc.useEffect)(()=>{if(t!=null){let i=mc.default.parse(t.replace("?",""));if(i&&Lt in i){let p=String(i[Lt]),l=new bn.WalletProvider(`${r.walletAddress}${zi}`).getTransactionsFromWalletUrl();if(i.status==="cancelled"){o(Ue({sessionId:p,status:"cancelled"})),e(),history.pushState({},document==null?void 0:document.title,"?");return}if(l.length>0){o(Ue({sessionId:p,status:"signed",transactions:l.map(m=>Bt(m))}));let[u]=l,{params:d}=uc([],{removeParams:[...Object.keys(u),bn.WALLET_PROVIDER_CALLBACK_PARAM,Lt]});An(d)}}}},[t])}n();var Tt=require("react");uo();var Ln={};function Ho({isLedger:e=!1,transactionsToSign:t,egldLabel:r,address:o,onCancel:i,onSignTransaction:p,onTransactionsSignError:l,onTransactionsSignSuccess:u,onGetScamAddressData:d}){var ve,q,K;let[m,g]=(0,Tt.useState)(0),[T,x]=(0,Tt.useState)(),[y,w]=(0,Tt.useState)(null),[b,k]=(0,Tt.useState)(!1),{getTxInfoByDataField:N,allTransactions:v}=Vo({transactions:t}),E=m===v.length-1;(0,Tt.useEffect)(()=>{_()},[m,v]);function _(){return S(this,null,function*(){var xt;let B=v[m];if(B==null)return;let{transaction:U,multiTxData:$}=B,ae=U.getData().toString(),Pe=N(U.getData().toString(),$),{tokenId:D}=Pe,C=U.getReceiver().toString(),M=o!==C,X=C in Ln;if(M&&!X&&d!=null){let wt=yield d(C);Ln=h(h({},Ln),wt!=null&&wt.scamInfo?{[C]:wt.scamInfo}:{})}let De=Boolean(D&&Ma({tokenId:D,erdLabel:r}));w({transaction:U,receiverScamInfo:((xt=Ln[C])==null?void 0:xt.info)||null,transactionTokenInfo:Pe,isTokenTransaction:De,dataField:ae})})}function G(){g(0),x(void 0),k(!1)}function ee(){return S(this,null,function*(){try{if(y==null)return;k(e);let B=yield p(y.transaction),U={[m]:B},$=T?h(h({},T),U):U;x($),E?$&&(u(Object.values($)),G()):(g(ae=>ae+1),k(!1))}catch(B){console.error(B,"sign error");let{message:U}=B,$=e?ct(B).errorMessage:null;G(),l($!=null?$:U)}})}function F(){try{if(y==null)return;y.transaction.getSignature().hex()?E||g(U=>U+1):ee()}catch(B){ee()}}let de=m===0;function ie(){de?i==null||i():g(B=>B-1)}let se=Boolean(((ve=y==null?void 0:y.transactionTokenInfo)==null?void 0:ve.type)&&((q=y==null?void 0:y.transactionTokenInfo)==null?void 0:q.multiTxData)&&!(y!=null&&y.dataField.endsWith((K=y==null?void 0:y.transactionTokenInfo)==null?void 0:K.multiTxData)));function j(){se?g(B=>B+1):F()}function te(){g(B=>{let U=B+1;return U>(v==null?void 0:v.length)?B:U})}function ye(){g(B=>{let U=B-1;return U<0?B:U})}return{allTransactions:v,onSignTransaction:j,onNext:te,onPrev:ye,waitingForDevice:b,onAbort:ie,isLastTransaction:E,isFirstTransaction:m===0,hasMultipleTransactions:v.length>1,shouldContinueWithoutSigning:se,currentStep:m,signedTransactions:T,currentTransaction:y}}n();var Tr=require("react"),Yo=require("@multiversx/sdk-extension-provider");V();n();var He=()=>{let e=pe(),t=Qe(e);return{provider:e,providerType:t}};H();z();n();n();function En(e){let t=Sn(P.getState()),r=Object.keys(e).length===(t==null?void 0:t.transactions.length);return e&&(e&&r)}n();var Ju=(e,t)=>t.map((r,o)=>(r.setNonce(e+o),r)),kn=()=>{let e=I(Ze);return t=>S(void 0,null,function*(){let r=yield Wt(e),o=dr(r);return Ju(o,t)})};n();var Vt=require("react"),Ko=require("@multiversx/sdk-extension-provider");V();n();n();var jo=()=>I(da);n();var et=()=>I(_t);n();n();n();n();n();var $t=O(require("react"));var Qu=(0,$t.createContext)({}),DL=P.getState();function Pn(){let e=(0,$t.useContext)(Qu);if(e===void 0||Object.values(e).length===0)throw new Error("useAxiosInterceptorContext must be used within an AxiosInterceptorContextProvider");return e}n();var gc=O(require("react"));n();var qo=O(require("react")),ed=O(require("axios"));var zo=()=>{try{let{loginInfo:e,isLoggedIn:t}=Pn();return R(h({},e),{isLoggedIn:t})}catch(e){let t=I(xe),r=I(Ft);return R(h({},t),{isLoggedIn:r})}};n();var td=()=>{let{isLoggedIn:e}=zo();return e};n();var rd=()=>I(on);H();var fr=()=>{let e=W(),{provider:t}=He(),{nonce:r}=et(),[o,i]=(0,Vt.useState)(null),[p,l]=(0,Vt.useState)(),[u,d]=(0,Vt.useState)([]),m=kn(),g=I(Sn),T=I(gn),x=()=>S(void 0,null,function*(){var v;let k=Boolean(g==null?void 0:g.transactions),N=(v=g==null?void 0:g.transactions)!=null?v:[];if(k){let E=yield m(N);d(E)}l(k)});(0,Vt.useEffect)(()=>{x()},[g,r]);let y=()=>{i(null),e(ut(null))},w=k=>{y(),b(k)};gr(w);function b(k){var v,E;let N=t instanceof Ko.ExtensionProvider;e(Ye()),e(Nt(k)),e(Jt(bt)),N&&(y(),(E=(v=Ko.ExtensionProvider.getInstance())==null?void 0:v.cancelAction)==null||E.call(v))}return{error:o,canceledTransactionsMessage:T,clearTransactionStatusMessage:y,onAbort:w,setError:i,hasTransactions:p,transactionsToSign:g&&R(h({},g),{transactions:u})}};var nd=()=>{let e=W(),t=(0,Tr.useRef)("/"),{provider:r}=He(),o=Qe(r),i=(0,Tr.useRef)(!1),p=kn(),l=I(gn),{transactionsToSign:u,error:d,setError:m,hasTransactions:g,onAbort:T,clearTransactionStatusMessage:x}=fr();gr(T);function y(v){var _,G;let E=r instanceof Yo.ExtensionProvider;e(Ye()),e(Nt(v)),e(Jt(bt)),i.current=!1,E&&(x(),(G=(_=Yo.ExtensionProvider.getInstance())==null?void 0:_.cancelAction)==null||G.call(_))}let w=(v,E)=>{o==="walletconnectv2"&&(v=st);let G=v.includes(st);if(y(E),G){e(ut(st));return}m(v)},b=(v,E,_="")=>{let G={[Lt]:E},ee=window!=null&&window.location?`${window.location.origin}${_}`:`${_}`,F=La({callbackUrl:ee,urlParams:G});r.signTransactions(v,{callbackUrl:encodeURIComponent(F)})},k=()=>S(void 0,null,function*(){var se;if(i.current||!u)return;let{sessionId:v,transactions:E,callbackRoute:_,customTransactionInformation:G}=u,{redirectAfterSign:ee}=G,F=_||(window==null?void 0:window.location.pathname),de=window==null?void 0:window.location.pathname.includes(F),ie=ee&&!de;try{if(!(yield(se=r==null?void 0:r.init)==null?void 0:se.call(r)))return}catch(j){let te=(j==null?void 0:j.message)||j||Pi;console.error(te),w(te);return}try{i.current=!0;let j=yield r.signTransactions(E);if(i.current=!1,!En(j))return;let ye=Object.values(j).map(q=>Bt(q)),ve={sessionId:v,transactions:ye,status:"signed"};ie&&(ve.redirectRoute=F),e(Ue(ve))}catch(j){i.current=!1;let te=(j==null?void 0:j.message)||j||ki;console.error(te),e(Ue({sessionId:v,status:"cancelled"})),w(te.includes("cancel")?st:te,v)}}),N=()=>S(void 0,null,function*(){if(!u)return;x();let{sessionId:v,transactions:E,callbackRoute:_}=u;if(!r){console.error(Di);return}t.current=_||(window==null?void 0:window.location.pathname);try{let G=o==="wallet",ee=yield p(E);if(G)return b(ee,v,_);k()}catch(G){let F=(G==null?void 0:G.message)||Ei;console.error(F),w(F,v),e(Ue({sessionId:v,status:"cancelled"})),console.error(F,G)}});return(0,Tr.useEffect)(()=>{g?N():i.current=!1},[u,g]),{error:d,canceledTransactionsMessage:l,onAbort:T,hasTransactions:g,callbackRoute:t.current,sessionId:u==null?void 0:u.sessionId,transactions:u==null?void 0:u.transactions}};n();n();var fc=O(require("axios"));function Tc(e){return S(this,null,function*(){let{network:{apiAddress:t,apiTimeout:r}}=be(P.getState()),{data:o}=yield fc.default.get(`/${sr}/${e}`,{baseURL:t,timeout:Number(r)});return o})}H();J();Zt();n();at();H();function yc(){let e=W();return t=>{e(Ye()),e(Nt(t)),e(ut(st))}}function Xo({onCancel:e,verifyReceiverScam:t=!0}){let{transactionsToSign:r,hasTransactions:o}=fr(),i=I(Io),{account:{address:p}}=jo(),{provider:l}=He(),u=W(),d=yc(),{transactions:m,sessionId:g,callbackRoute:T,customTransactionInformation:x}=r||{};function y(E){g&&u(Ue({sessionId:g,status:"cancelled"})),u(Fs(E))}let w=T!=null&&(window==null?void 0:window.location.pathname.includes(T));function b(E){!En(E)||g&&(u(Ue({sessionId:g,status:"signed",transactions:E.map(G=>Bt(G))})),T!=null&&(x==null?void 0:x.redirectAfterSign)&&!w&&Ct(T))}function k(){e(),d(g)}function N(E){return S(this,null,function*(){return yield l.signTransaction(E)})}let v=Ho({address:p,egldLabel:i,transactionsToSign:o?m:[],onGetScamAddressData:t?Tc:null,isLedger:ue("ledger"),onCancel:k,onSignTransaction:N,onTransactionsSignError:y,onTransactionsSignSuccess:b});return R(h({},v),{callbackRoute:T})}n();function od(e){return Xo(e)}n();var xr=require("react");n();n();n();H();function hc(){P.dispatch(_s())}function Sc(){P.dispatch(Ye())}n();n();var ad=O(require("bignumber.js"));V();H();J();n();var sd=O(require("bignumber.js"));V();n();var cd=require("@multiversx/sdk-core"),ld=O(require("bignumber.js"));V();n();n();n();var pd=e=>e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),Ht=e=>pd(s.Buffer.from(e,"utf8").toString("base64"));n();var vc=O(require("axios"));n();n();n();function xc(e){return S(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(),e)})})}n();var wc=(e,t,r,o=0)=>S(void 0,null,function*(){try{return yield e(...r)}catch(i){return o<t.retries?((t==null?void 0:t.delay)!=null&&(yield xc(t.delay)),yield wc(e,t,r,o+1)):null}}),Dn=(e,t={retries:5,delay:500})=>(...r)=>S(void 0,null,function*(){return yield wc(e,t,r)});var ud=4,dd=3e4,Cn={current:null},yt={current:null},md=Dn((e,t)=>S(void 0,null,function*(){let{data:r}=yield vc.default.get(`${e}/${Do}?from=${ud}&size=1&fields=hash,timestamp${t?"&shard="+t:""}`),[o]=r;return o}));function Ic(e,t){return S(this,null,function*(){if(e==null)throw new Error("missing api url");let r=Date.now();if(Cn.current!=null&&r<Cn.current.timestamp*1e3+dd)return Cn.current;if(yt.current!=null)return yield yt.current;yt.current=md(e,t);try{let o=yield yt.current;if(o==null)throw yt.current=null,new Error("could not get block hash");return Cn.current={hash:o.hash,timestamp:o.timestamp},yt.current=null,o}catch(o){return yt.current=null,null}})}n();n();Cr();n();n();var jc=O(Hc());var qc=e=>{if(!e||!(0,jc.default)(e))return null;let t=e.split(".");if(t.length!==4)return console.error("Invalid loginToken. You may be trying to decode a nativeAuthToken. Try using decodeNativeAuthToken method instead"),null;try{let[r,o,i,p]=t,l=JSON.parse(mt(p)),u=mt(r);return{ttl:Number(i),extraInfo:l,origin:u,blockHash:o}}catch(r){return console.error(`Error trying to decode ${e}:`,r),null}};function Ud(e){return Object.prototype.toString.call(e)==="[object String]"}var zc=e=>{var r;if(!e||!Ud(e))return null;let t=e.split(".");if(t.length!==3)return console.error("Invalid nativeAuthToken. You may be trying to decode a loginToken. Try using decodeLoginToken method instead"),null;try{let[o,i,p]=t,l=mt(o),u=mt(i),d=qc(u);if(!d)return{address:l,body:u,signature:p,blockHash:"",origin:"",ttl:0};let m=R(h({},d),{address:l,body:u,signature:p});return(r=d.extraInfo)!=null&&r.timestamp||delete m.extraInfo,m}catch(o){return null}};var Kc=e=>{let t=zc(e);if(!t)return{isExpired:!1};let r=kt(),{ttl:o,extraInfo:i}=t,p=i==null?void 0:i.timestamp;if(!p)return{isExpired:!1};let l=p+o,u=r>l,d=l-r;return{isExpired:u,expiresAt:l,secondsUntilExpires:d}};n();var Yc,hr={origin:typeof window!="undefined"?(Yc=window==null?void 0:window.location)==null?void 0:Yc.origin:"",apiAddress:"https://api.multiversx.com",expirySeconds:60*60*24,tokenExpirationToastWarningSeconds:5*60},Sr=e=>{var r,o,i,p,l;return e===!0?hr:{origin:(r=e==null?void 0:e.origin)!=null?r:hr.origin,blockHashShard:(o=e==null?void 0:e.blockHashShard)!=null?o:null,expirySeconds:(i=e==null?void 0:e.expirySeconds)!=null?i:hr.expirySeconds,apiAddress:(p=e==null?void 0:e.apiAddress)!=null?p:hr.apiAddress,tokenExpirationToastWarningSeconds:(l=e==null?void 0:e.tokenExpirationToastWarningSeconds)!=null?l:hr.tokenExpirationToastWarningSeconds}};n();var Xc=({address:e,token:t,signature:r})=>{let o=Ht(e),i=Ht(t);return`${o}.${i}.${r}`};var Zc=e=>{let{origin:t,apiAddress:r,expirySeconds:o,blockHashShard:i}=Sr(e);return{getNativeAuthConfig:Sr,initialize:(...d)=>S(void 0,[...d],function*(l={},u){if(!r||!t)return"";let m=u!=null?u:yield Ic(r,i),{hash:g,timestamp:T}=m,x=Ht(JSON.stringify(h(h({},l),T?{timestamp:T}:{})));return`${Ht(t)}.${g}.${o}.${x}`}),getToken:Xc,getTokenExpiration:Kc}};z();Mt();function Bd({transactionId:e,onSuccess:t,onFail:r,onCancelled:o,onTimedOut:i}){var _;let{signedTransactionsArray:p}=$o(),l=ue("wallet"),[u]=p.length>0?p[p.length-1]:[],d=(_=e!=null?e:u)!=null?_:null,m=l?d:e,g=I(G=>$a(G,m)),{status:T,transactions:x,errorMessage:y}=g,w=Fe(T),b=Ke(T),k=Xr(T),N=ze(T),v=T==="cancelled";function E(){l&&(hc(),Sc())}return(0,xr.useEffect)(()=>{N&&t&&t(m)},[N]),(0,xr.useEffect)(()=>{b&&r&&(r(m,y),E())},[b]),(0,xr.useEffect)(()=>{v&&o&&(o(m),E())},[v]),(0,xr.useEffect)(()=>{k&&(i?i(m):r==null||r(m,"timeout"))},[k]),m==null?{}:g==null?{errorMessage:"No transaction to track"}:{isPending:w,isSuccessful:N,isFailed:b,isCancelled:v,errorMessage:y,status:T,transactions:x}}n();var Nn=require("react"),Gd=(e,t)=>{let[r,o]=(0,Nn.useState)(e);return(0,Nn.useEffect)(()=>{let p=setTimeout(()=>o(e),t);return()=>clearTimeout(p)},[e]),r};n();n();var Jo=require("react"),Qc=require("@multiversx/sdk-extension-provider");at();ne();z();n();function oe(){return Ft(P.getState())}lt();n();var Jc=require("react"),Rn=require("@multiversx/sdk-core");H();var Wd=(e,t)=>{var r;return t?t===!0?e:(r=t.apiAddress)!=null?r:e:null},we=e=>{let t=I(Le),r=I(Ta),o=(0,Jc.useRef)(r==null?void 0:r.loginToken),i=Wd(t.apiAddress,e),p=Sr(h(h({},e===!0?{}:e),i?{apiAddress:i}:{})),l=Boolean(e),u=Zc(p),{address:d}=et(),m=W(),g=w=>{o.current=w,m(Fr(h({loginToken:w},i?{nativeAuthConfig:p}:{})))},T=()=>S(void 0,null,function*(){try{return yield u.initialize()}catch(w){console.error("Unable to get block. Login failed.",w);return}}),x=({address:w,signature:b})=>{let k=o.current;if(!k)throw"Token not found. Call `setLoginToken` first.";if(!l){m(Fr({loginToken:k,signature:b}));return}let N=u.getToken({address:w,token:k,signature:b});m(Fr(h({loginToken:k,signature:b,nativeAuthToken:N},i?{nativeAuthConfig:p}:{})))};return{configuration:p,setLoginToken:g,getNativeAuthLoginToken:T,setTokenLoginInfo:x,refreshNativeAuthTokenLogin:b=>S(void 0,[b],function*({signMessageCallback:w}){let k=yield T();if(o.current=k,!k)return;let N=new Rn.SignableMessage({address:new Rn.Address(d),message:s.Buffer.from(k)}),v=yield w(N,{});x({address:d,signature:v.toJSON().signature})})}};var el=({callbackRoute:e,token:t,nativeAuth:r,onLoginRedirect:o})=>{let[i,p]=(0,Jo.useState)(""),[l,u]=(0,Jo.useState)(!1),d=r!=null,m=we(r),g=t,T=W(),x=oe();function y(){return S(this,null,function*(){if(x)throw new Error(qe);u(!0);let b=Qc.ExtensionProvider.getInstance();try{if(!(yield b.init())){console.warn("Something went wrong trying to redirect to wallet login..");return}let N=encodeURIComponent(`${window==null?void 0:window.location.origin}${e!=null?e:window==null?void 0:window.location.pathname}`);if(d&&!g&&(g=yield m.getNativeAuthLoginToken(),!g)){console.warn("Fetching block failed. Login cancelled.");return}g&&m.setLoginToken(g);let v=h({callbackUrl:N},g&&{token:g});yield b.login(v),Ee(b);let{signature:E,address:_}=b.account;if(!_){u(!1),console.warn("Login cancelled.");return}E&&g&&m.setTokenLoginInfo({signature:E,address:_}),T(re({address:_,loginMethod:"extension"})),Ae({callbackRoute:e,onLoginRedirect:o,options:{signature:E,address:_}})}catch(k){console.error("error loging in",k),p("error logging in"+k.message)}finally{u(!1)}})}let w=Boolean(i);return[y,{loginFailed:w,error:i,isLoading:l&&!w,isLoggedIn:x&&!w}]};n();var Qo=require("react"),tl=require("@multiversx/sdk-opera-provider");at();ne();z();lt();var rl=({callbackRoute:e,token:t,nativeAuth:r,onLoginRedirect:o})=>{let[i,p]=(0,Qo.useState)(""),[l,u]=(0,Qo.useState)(!1),d=r!=null,m=we(r),g=t,T=W(),x=oe();function y(){return S(this,null,function*(){if(x)throw new Error(qe);u(!0);let b=tl.OperaProvider.getInstance();try{if(!(yield b.init())){console.warn("Something went wrong trying to redirect to wallet login..");return}let N=encodeURIComponent(`${window==null?void 0:window.location.origin}${e!=null?e:window==null?void 0:window.location.pathname}`);if(d&&!g&&(g=yield m.getNativeAuthLoginToken(),!g)){console.warn("Fetching block failed. Login cancelled.");return}g&&m.setLoginToken(g);let v=h({callbackUrl:N},g&&{token:g});yield b.login(v),Ee(b);let{signature:E,address:_}=b.account;if(!_){u(!1),console.warn("Login cancelled.");return}E&&g&&m.setTokenLoginInfo({signature:E,address:_}),T(re({address:_,loginMethod:"opera"})),Ae({callbackRoute:e,onLoginRedirect:o,options:{signature:E,address:_}})}catch(k){console.error("error loging in",k),p("error logging in"+k.message)}finally{u(!1)}})}let w=Boolean(i);return[y,{loginFailed:w,error:i,isLoading:l&&!w,isLoggedIn:x&&!w}]};n();var ti=require("react");at();H();n();n();eo();n();n();var $d=O(require("platform"));n();ne();J();Zt();Dt();Pt();var Vd=e=>{let t=_e.local.getItem(Ie.logoutEvent),{data:r}=t?JSON.parse(t):{data:e};e===r&&(_e.local.setItem({key:Ie.logoutEvent,data:e,expires:0}),_e.local.removeItem(Ie.logoutEvent))};function Mn(e,t,r=!0){return S(this,null,function*(){let o=pe(),i=Qe(o),p=oe(),l=i==="wallet";if(r&&(o==null?void 0:o.relogin)!=null)return yield o.relogin();if(!p||!o){ei(e,t,!1);return}try{let u=yield ur();Vd(u)}catch(u){ei(e,t,!1),console.error("error fetching logout address",u)}l&&hs(),P.dispatch(Q());try{let d=l&&!e?window==null?void 0:window.location.origin:e;l?setTimeout(()=>{o.logout({callbackUrl:d})}):(yield o.logout({callbackUrl:d}),ei(e,t,l))}catch(u){console.error("error logging out",u)}})}function ei(e,t,r){e&&!r&&(typeof t=="function"?t(e):Ct(e))}n();n();n();n();n();n();n();n();n();z();n();Zt();Dt();n();n();n();H();n();n();var nl=O(require("axios"));function On(e){return S(this,null,function*(){try{let{data:t}=yield nl.default.get(`${e}/websocket/config`);return`wss://${t.url}`}catch(t){throw console.error(t),new Error("Can not get websocket url")}})}n();var ol=(e,t=["address"])=>{let r=new URL(e),o=new URLSearchParams(r.search);t.forEach(l=>o.delete(l));let i=Array.from(o.values()).length>0?"?":"",p=r.pathname==="/"&&!e.endsWith("/")?"":r.pathname;return r.protocol==="vscode:"?e:`${r.origin}${p}${i}${o.toString()}`};var il=({callbackRoute:e,token:t,nativeAuth:r,redirectDelayMilliseconds:o=100})=>{let[i,p]=(0,ti.useState)(""),[l,u]=(0,ti.useState)(!1),d=I(Le),m=W(),g=oe(),T=Boolean(r),x=we(r),y=t;function w(){return S(this,null,function*(){if(g)throw new Error(qe);try{u(!0);let k=qa(d.walletAddress),N=new Date,v=N.setMinutes(N.getMinutes()+3)/1e3,E={data:{},expires:v};if(T&&!y&&(y=yield x.getNativeAuthLoginToken(),!y)){console.warn("Login cancelled.");return}y&&x.setLoginToken(y);let _=window!=null&&window.location?`${window.location.origin}${e}`:`${e}`;new URLSearchParams(document.location.search).get("address")||m(us(E));let F=ol(_),de=encodeURIComponent(F),ie=R(h({callbackUrl:de},y&&{token:y}),{redirectDelayMilliseconds:o});yield k.login(ie)}catch(k){console.error(k),p("error logging in"+k.message)}finally{u(!1)}})}let b=Boolean(i);return[w,{error:i,loginFailed:b,isLoading:l&&!b,isLoggedIn:g&&!b}]};n();var wr=require("react"),_n=require("@multiversx/sdk-hw-provider");at();ne();H();z();lt();n();var ht=require("react"),Hd=10,sl=()=>{let[e,t]=(0,ht.useState)(""),[r,o]=(0,ht.useState)(!1),[i,p]=(0,ht.useState)(0),[l,u]=(0,ht.useState)([]),[d,m]=(0,ht.useState)(null),[g,T]=(0,ht.useState)(!1);return{accounts:l,setAccounts:u,isLoading:r,setIsLoading:o,setShowAddressList:T,showAddressList:g,startIndex:i,selectedAddress:d,onGoToPrevPage:()=>{m(null),p(b=>b===0?0:b-1)},onGoToNextPage:()=>{m(null),p(b=>b+1)},onSelectAddress:b=>{m(b)},error:e,setError:t,defaultAddressesPerPage:Hd}};var jt="Check if the MultiversX App is open on Ledger";function al({callbackRoute:e,token:t,addressesPerPage:r,nativeAuth:o,onLoginRedirect:i}){let p=I(ga),l=W(),u=oe(),d=o!=null,m=we(o),g=t,{accounts:T,setAccounts:x,isLoading:y,setIsLoading:w,setShowAddressList:b,showAddressList:k,startIndex:N,selectedAddress:v,onGoToPrevPage:E,onGoToNextPage:_,onSelectAddress:G,error:ee,setError:F,defaultAddressesPerPage:de}=sl(),ie=r!=null?r:de,se=new _n.HWProvider,[j,te]=(0,wr.useState)(""),[ye,ve]=(0,wr.useState)(!1);function q({provider:D,address:C,index:M,signature:X}){Ee(D),l(ps({index:M,loginType:"ledger"})),X&&m.setTokenLoginInfo({signature:X,address:C}),l(re({address:C,loginMethod:"ledger"})),Ae({callbackRoute:e,onLoginRedirect:i,options:{address:C,signature:X}})}let K=(D,C="")=>{let{errorMessage:M}=ct(D);M&&F(`${M}.${C}`),w(!1),console.warn(D),l(co(null))};function B(D){return S(this,null,function*(){if(v==null)return!1;let{index:C}=v;if(d&&!g&&(g=yield m.getNativeAuthLoginToken(),!g)){console.warn("Fetching block failed. Login cancelled.");return}if(g){m.setLoginToken(g);try{let M=yield D.tokenLogin({token:s.Buffer.from(`${g}{}`),addressIndex:C});q({address:M.address,provider:D,index:C,signature:M.signature.hex()})}catch(M){K(M,". Update MultiversX App to continue.")}}else try{let M=yield D.login({addressIndex:C});q({address:M,provider:D,index:C})}catch(M){return K(M),!1}return!0})}function U(){return S(this,null,function*(){try{if(w(!0),v==null)return!1;l(p?is(v):co(R(h({},v),{version:j,hasContractDataEnabled:ye})));let D=new _n.HWProvider;if(!(yield D.init()))return F(jt),console.warn(jt),!1;w(!1),yield B(D)}catch(D){let{errorMessage:C}=ct(D);C&&F(C),console.warn(jt,D)}finally{w(!1)}return b(!1),!0})}function $(){return S(this,null,function*(){try{if(w(!0),!(yield se.init())){F(jt),console.warn(jt),w(!1);return}let C=yield se.getAccounts(N,ie),M=yield za(se);te(M.version),ve(M.dataEnabled),x(C),w(!1)}catch(D){let{errorMessage:C,defaultErrorMessage:M}=ct(D);F(C!=null?C:M),console.error("error",D),w(!1)}})}function ae(){return S(this,null,function*(){if(u)throw new Error(qe);F("");try{if(w(!0),p!=null){let D=new _n.HWProvider;if(!(yield D.init())||!v){console.warn(jt);return}let M=yield D.login({addressIndex:v.index.valueOf()});if(Ee(D),!M){w(!1),console.warn("Login cancelled.");return}l(re({address:M,loginMethod:"ledger"})),Ae({callbackRoute:e,onLoginRedirect:i})}else(T==null?void 0:T.length)>0||(yield $()),b(!0)}catch(D){console.error("error ",D);let{defaultErrorMessage:C}=ct();F(C)}finally{w(!1)}})}(0,wr.useEffect)(()=>{$()},[N]);let Pe=Boolean(ee);return[ae,{loginFailed:Pe,isLoggedIn:u&&!Pe,error:ee,isLoading:y&&!Pe},{accounts:T,showAddressList:k,startIndex:N,selectedAddress:v,version:j,contractDataEnabled:ye,onGoToPrevPage:E,onGoToNextPage:_,onSelectAddress:G,onConfirmSelectedAddress:U}]}n();var tt=require("react");ne();H();z();lt();var cl=({logoutRoute:e,callbackRoute:t,nativeAuth:r,token:o,onLoginRedirect:i})=>{let p=W(),l=15e3,u=r!=null,d=we(r),m=o,[g,T]=(0,tt.useState)(""),[x,y]=(0,tt.useState)(""),{provider:w}=He(),b=I(Sa),k=I(sn),N=(0,tt.useRef)(w),v=(0,tt.useRef)(!0),E,_=Boolean(x),G=!_,ee=_?`${k}?wallet-connect=${encodeURIComponent(x)}`:"";(0,tt.useEffect)(()=>{ie();let q=setInterval(()=>{ie()},l);return()=>clearInterval(q)},[w]),ft(()=>{!o||te()},[o]),ft(()=>{N.current=w},[w]);let F=()=>{Mn(e)},de=()=>{v.current=!1};function ie(){return S(this,null,function*(){var B,U;if(w==null||!ue("walletconnect")||!Boolean((U=(B=N.current)==null?void 0:B.walletConnector)==null?void 0:U.connected))return;let K={method:"heartbeat",params:{}};try{yield N.current.sendCustomMessage(K)}catch($){console.error("Connection lost",$),F()}})}function se(){return S(this,null,function*(){var q;try{let K=N.current;if(oe()||K==null||!ue("walletconnect"))return;if(!v.current){try{yield(q=N.current)==null?void 0:q.logout()}catch(D){console.warn("Unable to logout")}return}let U=yield K.getAddress();if(!U){console.warn("Login cancelled.");return}let $=yield K.getSignature(),ae={address:U,loginMethod:"walletconnect"},Pe={logoutRoute:e,loginType:"walletConnect",callbackRoute:t!=null?t:window==null?void 0:window.location.href};p(_r(Pe)),$&&d.setTokenLoginInfo({signature:$,address:U}),p(re(ae)),K.walletConnector.on("heartbeat",()=>{clearInterval(E),E=setInterval(()=>{console.log("xPortal Mobile Wallet Connection Lost"),F(),clearInterval(E)},15e4)}),Ae({callbackRoute:t,onLoginRedirect:i,options:{address:U,signature:$}})}catch(K){T("Invalid address"),console.error(K)}})}function j(q=!0){return S(this,null,function*(){var $,ae;let K=q&&!x;if(!b||((ae=($=N==null?void 0:N.current)==null?void 0:$.isInitialized)==null?void 0:ae.call($))&&!K)return;let B={onClientLogin:se,onClientLogout:F},U=new pr(b,B);yield U.init(),v.current=!0,Ee(U),N.current=U,q&&te()})}function te(){return S(this,null,function*(){var U;if(!b)return;let q=yield(U=N.current)==null?void 0:U.login();if(!Boolean(q))return;if(u&&!m&&(m=yield d.getNativeAuthLoginToken(),!m)){console.warn("Fetching block failed. Login cancelled.");return}if(!m){y(q);return}d.setLoginToken(m);let B=`${q}&token=${m}`;y(B)})}let ye=Boolean(g),ve=oe();return[j,{error:g,loginFailed:ye,isLoading:G&&!ye,isLoggedIn:ve&&!ye},{uriDeepLink:ee,walletConnectUri:x,cancelLogin:de}]};n();var ke=require("react");ne();H();z();lt();var ll=({callbackRoute:e,logoutRoute:t,token:r,nativeAuth:o,onLoginRedirect:i})=>{let p=W(),l=o!=null,u=we(o),d=r,[m,g]=(0,ke.useState)(""),[T,x]=(0,ke.useState)(""),[y,w]=(0,ke.useState)(!0),[b,k]=(0,ke.useState)([]),N=pe(),v=I(xa),E=I(wa),_=I(va),G=I(nr),ee=I(sn),F=(0,ke.useRef)(N),de=(0,ke.useRef)(!0),ie=(0,ke.useRef)(!1),se=["mvx_cancelAction"],j=y?"":`${ee}?wallet-connect=${encodeURIComponent(T)}`;ft(()=>{!r||$()},[r]),ft(()=>{F.current=N},[N]),(0,ke.useEffect)(()=>{w(!Boolean(T))},[T]);let te=()=>{Mn(t)},ye=D=>{console.log("WalletConnect Session Event: ",D)},ve=()=>{de.current=!1};function q(){return S(this,null,function*(){var D;try{let C=F.current;if(oe()||C==null||!ue("walletconnectv2"))return;if(!de.current){try{yield(D=F.current)==null?void 0:D.logout()}catch(Qd){console.warn("Unable to logout")}return}let X=yield C.getAddress();if(!X){console.warn("Login cancelled.");return}let De=yield C.getSignature(),xt={address:X,loginMethod:"walletconnectv2"},wt={logoutRoute:t,loginType:"walletconnectv2",callbackRoute:e!=null?e:window==null?void 0:window.location.href};p(_r(wt)),De&&u.setTokenLoginInfo({signature:De,address:X}),p(re(xt)),Ae({callbackRoute:e,onLoginRedirect:i,options:{address:X,signature:De}})}catch(C){g("Invalid address"),console.error(C)}})}function K(D=!0){return S(this,null,function*(){if(!E||!v){g("Invalid WalletConnect setup");return}if(ie.current)return;let C={onClientLogin:q,onClientLogout:te,onClientEvent:ye};ie.current=!0;let M=new wn(C,G,v,E,_);yield M.init(),ie.current=!1,de.current=!0,Ee(M),k(M.pairings),F.current=M,D&&$()})}function B(D){return S(this,null,function*(){var C,M,X;if(!v||!E){g("Invalid WalletConnect setup");return}if(!D||!D.topic){g("Expired connection");return}try{let{approval:De}=yield(C=F.current)==null?void 0:C.connect({topic:D.topic,methods:se});if(l&&!d&&(d=yield u.getNativeAuthLoginToken(),!d)){console.warn("Fetching block failed. Login cancelled.");return}d&&u.setLoginToken(d);try{yield(M=F.current)==null?void 0:M.login({approval:De,token:d})}catch(xt){g("User rejected existing connection proposal"),w(!0),yield K()}}catch(De){console.error("Unable to connect to existing session",De),g("Unable to connect to existing session")}finally{k((X=F.current)==null?void 0:X.pairings)}})}function U(D){return S(this,null,function*(){var C,M;try{D&&(yield(C=F.current)==null?void 0:C.logout({topic:D}))}catch(X){console.error("Unable to remove existing pairing",X),g("Unable to remove existing pairing")}finally{let X=yield(M=F.current)==null?void 0:M.getPairings();k(X)}})}function $(){return S(this,null,function*(){var D,C;if(!v||!E){g("Invalid WalletConnect setup");return}try{let{uri:M,approval:X}=yield(D=F.current)==null?void 0:D.connect({methods:se});if(!Boolean(M))return;if(x(M),l&&!d&&(d=yield u.getNativeAuthLoginToken(),!d)){console.warn("Fetching block failed. Login cancelled.");return}d&&u.setLoginToken(d);try{yield(C=F.current)==null?void 0:C.login({approval:X,token:d})}catch(xt){g("User rejected connection proposal"),w(!0),yield K()}}catch(M){console.error("Unable to connect",M)}})}let ae=Boolean(m),Pe=oe();return[K,{error:m,loginFailed:ae,isLoading:y&&!ae,isLoggedIn:Pe&&!ae},{uriDeepLink:j,walletConnectUri:T,cancelLogin:ve,connectExisting:B,removeExistingPairing:U,wcPairings:b}]};n();n();var vr=require("react");function jd(e){let[t,r]=(0,vr.useState)(),[o,i]=(0,vr.useState)();function p(){return S(this,null,function*(){try{let l=yield On(e);r(l)}catch(l){i(l)}})}return(0,vr.useEffect)(()=>{p()},[]),{data:t,error:o,getUrl:p}}n();var dl=require("react");n();var St=require("react"),pl=require("socket.io-client");H();n();var je={current:null,status:"not_initialized"};var qd=3e3,zd=3,Kd=500,Yd=1e3;function ul(){let e=(0,St.useRef)(null),{address:t}=et(),r=W(),{network:o}=cr(),i=l=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{r(ss(l))},Yd)},p=(0,St.useCallback)(Dn(()=>S(this,null,function*(){je.status="pending";let l=yield On(o.apiAddress);if(l==null){console.warn("Can not get websocket url");return}je.current=(0,pl.io)(l,{forceNew:!0,reconnectionAttempts:zd,timeout:qd,query:{address:t}}),je.status="completed",je.current.onAny(u=>{i(u)})}),{retries:2,delay:Kd}),[t]);(0,St.useEffect)(()=>{t&&je.status==="not_initialized"&&!je.current&&p()},[t,je.current]),(0,St.useEffect)(()=>()=>{var l;(l=je.current)==null||l.close(),e.current&&clearTimeout(e.current)},[])}function Xd(e){ul();let t=I(on);(0,dl.useEffect)(()=>{let r=t==null?void 0:t.message;r&&e(r)},[e,t])}n();n();n();var ml=e=>e.dappModal,gl=A(ml,e=>e.visible),Fn=A(ml,e=>e.modal),$R=A(Fn,e=>e.showHeader),VR=A(Fn,e=>e.showFooter),HR=A(Fn,e=>e.headerText),jR=A(Fn,e=>e.footerText);var Zd=()=>I(gl);0&&(module.exports={useCheckTransactionStatus,useDebounce,useExtensionLogin,useGetAccount,useGetAccountInfo,useGetAccountProvider,useGetActiveTransactionsStatus,useGetFailedTransactions,useGetIsLoggedIn,useGetLastPendingTransactionHash,useGetLoginInfo,useGetNetworkConfig,useGetNotification,useGetPendingTransactions,useGetSignTransactionsError,useGetSignedTransactions,useGetSuccessfulTransactions,useGetTokenDetails,useGetTransactionDisplayInfo,useGetWebsocketEvent,useGetWebsocketUrl,useIsDappModalVisible,useLedgerLogin,useOperaLogin,useParseMultiEsdtTransferData,useParseSignedTransactions,useRegisterWebsocketListener,useSignMultipleTransactions,useSignTransactions,useSignTransactionsCommonData,useSignTransactionsWithDevice,useSignTransactionsWithLedger,useTrackTransactionStatus,useUpdateEffect,useWalletConnectLogin,useWalletConnectV2Login,useWebWalletLogin});
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=index.js.map
