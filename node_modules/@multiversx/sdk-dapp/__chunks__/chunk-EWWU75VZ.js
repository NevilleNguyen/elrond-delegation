import{b as m}from"./chunk-3EMJ6VHI.js";import{j as u,m as a}from"./chunk-HBP5N4FR.js";a();import x,{useRef as I,useEffect as h}from"react";import s from"axios";var C=({children:f,authenticatedDomanis:d})=>{var n;let{loginInfo:r}=m(),t=(n=r==null?void 0:r.tokenLogin)==null?void 0:n.nativeAuthToken,o=I(-1),A=()=>{s.interceptors.response.use(e=>e,e=>{var c,p;let i=(c=e.config)==null?void 0:c.url;return(p=e.config)!=null&&p.params&&(i+=`?${new URLSearchParams(e.config.params).toString()}`),console.error("Axios error for: ",i),Promise.reject(e)})},l=()=>{s.interceptors.request.eject(o.current),o.current=s.interceptors.request.use(e=>u(void 0,null,function*(){return d.includes(String(e==null?void 0:e.baseURL))&&(e.headers={Authorization:`Bearer ${t}`}),e}),e=>{Promise.reject(e)})};return h(A,[]),h(()=>{t&&l()},[t]),x.createElement(x.Fragment,null,f)};export{C as a};
//# sourceMappingURL=chunk-EWWU75VZ.js.map
