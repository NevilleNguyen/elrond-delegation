import{a as l}from"./chunk-KZR7TQ7H.js";import{c as u}from"./chunk-YWCHHP5N.js";import{j as a,m as c}from"./chunk-HBP5N4FR.js";c();import i from"axios";var m=4,h=3e4,s={current:null},r={current:null},p=l((e,n)=>a(void 0,null,function*(){let{data:o}=yield i.get(`${e}/${u}?from=${m}&size=1&fields=hash,timestamp${n?"&shard="+n:""}`),[t]=o;return t}));function T(e,n){return a(this,null,function*(){if(e==null)throw new Error("missing api url");let o=Date.now();if(s.current!=null&&o<s.current.timestamp*1e3+h)return s.current;if(r.current!=null)return yield r.current;r.current=p(e,n);try{let t=yield r.current;if(t==null)throw r.current=null,new Error("could not get block hash");return s.current={hash:t.hash,timestamp:t.timestamp},r.current=null,t}catch(t){return r.current=null,null}})}export{T as a};
//# sourceMappingURL=chunk-A7U4W5XF.js.map
