import{a as I}from"./chunk-JASKCX5T.js";import{a as w}from"./chunk-KVVBB443.js";import{d as y}from"./chunk-QFKT22AW.js";import{b as v}from"./chunk-5V4KCOPF.js";import{a as p}from"./chunk-IBNOB7HH.js";import{a as u,b as d,c as C}from"./chunk-XRCJ5PNU.js";import{a,b as E}from"./chunk-HSUU5363.js";import{a as s,f as A}from"./chunk-WZZ2ZH2A.js";import{a as m,c as L}from"./chunk-EC436OTI.js";import{a as b}from"./chunk-4Z6EY67I.js";import{j as c,m as f}from"./chunk-HBP5N4FR.js";f();L();b();C();E();A();var P=o=>{let t=a.local.getItem(s.logoutEvent),{data:i}=t?JSON.parse(t):{data:o};o===i&&(a.local.setItem({key:s.logoutEvent,data:o,expires:0}),a.local.removeItem(s.logoutEvent))};function z(o,t,i=!0){return c(this,null,function*(){let r=y(),h=v(r),T=w(),n=h==="wallet";if(i&&(r==null?void 0:r.relogin)!=null)return yield r.relogin();if(!T||!r){l(o,t,!1);return}try{let e=yield I();P(e)}catch(e){l(o,t,!1),console.error("error fetching logout address",e)}n&&u(),p.dispatch(m());try{let g=n&&!o?window==null?void 0:window.location.origin:o;n?setTimeout(()=>{r.logout({callbackUrl:g})}):(yield r.logout({callbackUrl:g}),l(o,t,n))}catch(e){console.error("error logging out",e)}})}function l(o,t,i){o&&!i&&(typeof t=="function"?t(o):d(o))}export{z as a};
//# sourceMappingURL=chunk-QRPURFAS.js.map
