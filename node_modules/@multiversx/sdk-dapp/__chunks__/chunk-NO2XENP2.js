import{a as N}from"./chunk-2A2MCZLD.js";import{a as G}from"./chunk-EGRWVT4Y.js";import{a as P}from"./chunk-RLCDJI3M.js";import{a as E}from"./chunk-BM2PDYJN.js";import{a as V}from"./chunk-OX2QPQSJ.js";import{b as i}from"./chunk-GCUT2XXY.js";import{a as w}from"./chunk-P7VDW7ZE.js";import{a as x}from"./chunk-YZC6D7ZZ.js";import{a as M}from"./chunk-M7JJAO3P.js";import{a as I}from"./chunk-IJYBKFJ4.js";import{a as B}from"./chunk-DHRIIJW6.js";import{a as W}from"./chunk-7I7NVYZT.js";import{m as D}from"./chunk-HBP5N4FR.js";D();import t from"react";import{faExclamationTriangle as rt,faTimes as lt}from"@fortawesome/free-solid-svg-icons";import{FontAwesomeIcon as mt}from"@fortawesome/react-fontawesome";import{Address as pt}from"@multiversx/sdk-core/out";import e from"classnames";var Mt=({onSignTransaction:$,handleClose:z,onPrev:F,title:H,waitingForDevice:g,currentTransaction:n,error:r,allTransactions:f,isLastTransaction:Z,currentStep:v,className:j,signStepInnerClasses:q})=>{let C=M();if(!n)return null;let J=n.transaction.getData().toString(),{network:S}=x(),{buttonsWrapperClassName:K,inputGroupClassName:l,inputLabelClassName:m,inputValueClassName:p,errorClassName:O,scamAlertClassName:Q,buttonClassName:b,progressClassName:U}=q||{},{tokenId:a,nonce:c,amount:k,type:X,multiTxData:d,receiver:Y}=n.transactionTokenInfo,T=Boolean(a&&W({tokenId:a,erdLabel:C})),y=v===0,_=it=>{it.preventDefault(),y?z():F()},R=X&&d&&!J.endsWith(d),o="Sign & Continue";o=g?"Check your Ledger":o,o=Z&&!g?"Sign & Submit":o,o=R?"Continue":o;let{isNft:L}=B(a),tt=c?`-${c}`:"",h=`${a}${tt}`,{tokenDecimals:st,tokenAvatar:et}=w({tokenId:c&&c.length>0?h:a}),nt=I({input:T?k:n.transaction.getValue().toString(),decimals:T?st:Number(S.decimals),digits:Number(S.digits),showLastNonZeroDecimal:!1,addCommas:!0}),u=n.receiverScamInfo,at=f.length>1,s=P(u),A=L?h:a||C,ot=L?k:nt;return t.createElement(V,{icon:r?lt:null,iconClass:s.icon,iconBgClass:r?i.bgDanger:i.bgWarning,iconSize:"3x",className:j,title:H||"Confirm on Ledger",description:t.createElement(t.Fragment,null,n.transaction&&t.createElement(t.Fragment,null,at&&t.createElement(E,{totalSteps:f.length,currentStep:v+1,className:e(i.mb4,U)}),t.createElement("div",{"data-testid":"transactionTitle",className:e(s.formGroup,l)},t.createElement("div",{className:e(s.formLabel,m)},"To"),t.createElement("div",{className:p,"data-testid":"confirmReceiver"},d?new pt(Y).bech32():n.transaction.getReceiver().toString()),u&&t.createElement("div",{className:e(s.scamReport,Q)},t.createElement("span",null,t.createElement(mt,{icon:rt,className:s.scamReportIcon}),t.createElement("small",{"data-testid":"confirmScamReport"},u)))),t.createElement("div",{className:e(s.tokenWrapper,l)},t.createElement("div",{className:e(s.tokenLabel,m)},"Token"),t.createElement("div",{className:p,"data-testid":"confirmToken"},t.createElement("div",{className:s.tokenValue},t.createElement(N.Icon,{tokenAvatar:et,token:A}),t.createElement("div",{className:i.mr2}),t.createElement(N.Label,{token:A})))),t.createElement("div",{className:l},t.createElement("div",{className:e(s.tokenAmountLabel,m)},"Amount"),t.createElement("div",{className:e(s.tokenAmountValue,p),"data-testid":"confirmAmount"},ot)),n.transaction.getData()&&t.createElement(G,{isScCall:!a,data:n.transaction.getData().toString(),highlight:d,className:l,innerTransactionDataClasses:{transactionDataInputLabelClassName:m,transactionDataInputValueClassName:p}}),r&&t.createElement("p",{className:e(s.errorMessage,O)},r))),action:t.createElement("div",{className:e(s.buttonsWrapper,K)},t.createElement("button",{id:"closeButton","data-testid":"closeButton",onClick:_,className:e(s.cancelButton,b)},y?"Cancel":"Back"),t.createElement("button",{type:"button",className:e(s.signButton,b),id:"signBtn","data-testid":"signBtn",onClick:$,disabled:g},o))})};export{Mt as a};
//# sourceMappingURL=chunk-NO2XENP2.js.map
