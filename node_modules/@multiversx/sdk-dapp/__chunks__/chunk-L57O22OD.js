import{b as l}from"./chunk-C4A6VHGL.js";import{a as c}from"./chunk-Q32POUGY.js";import{a as m}from"./chunk-QNH7L3M6.js";import{d as a}from"./chunk-G3PZHPKZ.js";import{a as f}from"./chunk-DBD6N2CW.js";import{a as u}from"./chunk-VMWLEDGI.js";import{m as s}from"./chunk-HBP5N4FR.js";s();import{useEffect as S,useRef as W}from"react";import{faRefresh as A}from"@fortawesome/free-solid-svg-icons";import g from"bignumber.js";var M=()=>{let{address:p}=m(),{tokenLogin:t}=a(u),{secondsUntilExpires:n,expiresAt:d}=c(t==null?void 0:t.nativeAuthToken),o=W();return S(()=>{var i;let e=new g(String(n)),T=e.times(1e3);if(!(!n||e.isLessThanOrEqualTo(0))){if((i=t==null?void 0:t.nativeAuthConfig)!=null&&i.tokenExpirationToastWarningSeconds){clearTimeout(o.current);let x=new g(t.nativeAuthConfig.tokenExpirationToastWarningSeconds).times(1e3),r=e.times(1e3).minus(x),E=f(T.toNumber()),h=r.isLessThanOrEqualTo(0)?0:r.toNumber();o.current=setTimeout(()=>{l({toastId:"nativeAuthTokenExpiration",type:"custom",title:"Session Expiration Warning",icon:A,message:`Your token will expire in ${E}!`})},h)}return()=>{clearTimeout(o.current)}}},[d,p,t==null?void 0:t.nativeAuthConfig]),null};export{M as a};
//# sourceMappingURL=chunk-L57O22OD.js.map
