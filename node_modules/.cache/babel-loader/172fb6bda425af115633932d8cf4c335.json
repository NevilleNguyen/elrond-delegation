{"ast":null,"code":"import _defineProperty from\"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import classNames from'classnames';import{Formik}from'formik';import{Submit}from'components/Action';import{useGlobalContext}from'context';import{nominateVal}from'helpers/nominate';import useTransaction from'helpers/useTransaction';import styles from'./styles.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ChangeServiceFee=function ChangeServiceFee(){var breakpoints=[0,25,50,75,100];var _useTransaction=useTransaction(),sendTransaction=_useTransaction.sendTransaction;var _useGlobalContext=useGlobalContext(),contractDetails=_useGlobalContext.contractDetails;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendTransaction({args:nominateVal(data.amount),type:'changeServiceFee',value:'0'});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Formik,{onSubmit:onSubmit,initialValues:{amount:contractDetails.data?contractDetails.data.serviceFee.replace('%',''):'0'},children:function children(_ref2){var values=_ref2.values,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,handleSubmit=_ref2.handleSubmit;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"\".concat(styles.serviceFee,\" serviceFee\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.range,children:[/*#__PURE__*/_jsx(\"input\",{className:styles.input,name:\"amount\",type:\"range\",onBlur:handleBlur,onChange:handleChange,min:0,max:100,value:values.amount}),/*#__PURE__*/_jsx(\"span\",{className:styles.thumb,style:{left:\"\".concat(values.amount,\"%\")},children:/*#__PURE__*/_jsxs(\"strong\",{children:[values.amount,\"%\"]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.completion,style:{width:\"\".concat(values.amount,\"%\")}}),breakpoints.map(function(breakpoint){return/*#__PURE__*/_jsx(\"div\",{style:{left:\"\".concat(breakpoint,\"%\")},className:classNames(styles.breakpoint,_defineProperty({},styles.completed,breakpoint<=parseInt(values.amount))),children:/*#__PURE__*/_jsxs(\"span\",{children:[breakpoint,\"%\"]})},\"breakpoint-\".concat(breakpoint));})]}),/*#__PURE__*/_jsx(Submit,{close:\"Cancel\",submit:\"Save\"})]});}});};","map":{"version":3,"names":["React","classNames","Formik","Submit","useGlobalContext","nominateVal","useTransaction","styles","jsx","_jsx","jsxs","_jsxs","ChangeServiceFee","breakpoints","_useTransaction","sendTransaction","_useGlobalContext","contractDetails","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","args","amount","type","value","t0","console","error","stop","_x","apply","arguments","initialValues","serviceFee","replace","children","_ref2","values","handleChange","handleBlur","handleSubmit","className","concat","range","input","name","onBlur","onChange","min","max","thumb","style","left","completion","width","map","breakpoint","_defineProperty","completed","parseInt","close","submit"],"sources":["/Users/neville/Documents/Github/elrond-delegation/src/components/Cards/components/ChangeServiceFee/ChangeServiceFee.tsx"],"sourcesContent":["import React from 'react';\n\nimport classNames from 'classnames';\nimport { Formik } from 'formik';\nimport { Submit } from 'components/Action';\n\nimport { useGlobalContext } from 'context';\nimport { nominateVal } from 'helpers/nominate';\nimport useTransaction from 'helpers/useTransaction';\n\nimport styles from './styles.module.scss';\n\ninterface ActionDataType {\n  amount: string;\n}\n\nexport const ChangeServiceFee = () => {\n  const breakpoints = [0, 25, 50, 75, 100];\n\n  const { sendTransaction } = useTransaction();\n  const { contractDetails } = useGlobalContext();\n\n  const onSubmit = async (data: ActionDataType): Promise<void> => {\n    try {\n      await sendTransaction({\n        args: nominateVal(data.amount),\n        type: 'changeServiceFee',\n        value: '0'\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Formik\n      onSubmit={onSubmit}\n      initialValues={{\n        amount: contractDetails.data\n          ? contractDetails.data.serviceFee.replace('%', '')\n          : '0'\n      }}\n    >\n      {({ values, handleChange, handleBlur, handleSubmit }) => (\n        <form\n          onSubmit={handleSubmit}\n          className={`${styles.serviceFee} serviceFee`}\n        >\n          <div className={styles.range}>\n            <input\n              className={styles.input}\n              name='amount'\n              type='range'\n              onBlur={handleBlur}\n              onChange={handleChange}\n              min={0}\n              max={100}\n              value={values.amount}\n            />\n\n            <span\n              className={styles.thumb}\n              style={{ left: `${values.amount}%` }}\n            >\n              <strong>{values.amount}%</strong>\n            </span>\n\n            <div\n              className={styles.completion}\n              style={{ width: `${values.amount}%` }}\n            />\n\n            {breakpoints.map((breakpoint) => (\n              <div\n                style={{ left: `${breakpoint}%` }}\n                key={`breakpoint-${breakpoint}`}\n                className={classNames(styles.breakpoint, {\n                  [styles.completed]: breakpoint <= parseInt(values.amount)\n                })}\n              >\n                <span>{breakpoint}%</span>\n              </div>\n            ))}\n          </div>\n\n          <Submit close='Cancel' submit='Save' />\n        </form>\n      )}\n    </Formik>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}