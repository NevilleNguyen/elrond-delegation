{"ast":null,"code":"import _regeneratorRuntime from \"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { a as I } from \"./chunk-JASKCX5T.js\";\nimport { a as w } from \"./chunk-KVVBB443.js\";\nimport { d as y } from \"./chunk-QFKT22AW.js\";\nimport { b as v } from \"./chunk-5V4KCOPF.js\";\nimport { a as p } from \"./chunk-IBNOB7HH.js\";\nimport { a as u, b as d, c as C } from \"./chunk-XRCJ5PNU.js\";\nimport { a, b as E } from \"./chunk-HSUU5363.js\";\nimport { a as s, f as A } from \"./chunk-WZZ2ZH2A.js\";\nimport { a as m, c as L } from \"./chunk-EC436OTI.js\";\nimport { a as b } from \"./chunk-4Z6EY67I.js\";\nimport { j as c, m as f } from \"./chunk-HBP5N4FR.js\";\nf();\nL();\nb();\nC();\nE();\nA();\nvar P = function P(o) {\n  var t = a.local.getItem(s.logoutEvent),\n    _ref = t ? JSON.parse(t) : {\n      data: o\n    },\n    i = _ref.data;\n  o === i && (a.local.setItem({\n    key: s.logoutEvent,\n    data: o,\n    expires: 0\n  }), a.local.removeItem(s.logoutEvent));\n};\nfunction z(o, t) {\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n  return c(this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var r, h, T, n, e, g;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          r = y(), h = v(r), T = w(), n = h === \"wallet\";\n          if (!(i && (r == null ? void 0 : r.relogin) != null)) {\n            _context.next = 5;\n            break;\n          }\n          _context.next = 4;\n          return r.relogin();\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n        case 5:\n          if (!(!T || !r)) {\n            _context.next = 8;\n            break;\n          }\n          l(o, t, !1);\n          return _context.abrupt(\"return\");\n        case 8:\n          _context.prev = 8;\n          _context.next = 11;\n          return I();\n        case 11:\n          e = _context.sent;\n          P(e);\n          _context.next = 18;\n          break;\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](8);\n          l(o, t, !1), console.error(\"error fetching logout address\", _context.t0);\n        case 18:\n          n && u(), p.dispatch(m());\n          _context.prev = 19;\n          g = n && !o ? window == null ? void 0 : window.location.origin : o;\n          if (!n) {\n            _context.next = 25;\n            break;\n          }\n          setTimeout(function () {\n            r.logout({\n              callbackUrl: g\n            });\n          });\n          _context.next = 28;\n          break;\n        case 25:\n          _context.next = 27;\n          return r.logout({\n            callbackUrl: g\n          });\n        case 27:\n          l(o, t, n);\n        case 28:\n          _context.next = 33;\n          break;\n        case 30:\n          _context.prev = 30;\n          _context.t1 = _context[\"catch\"](19);\n          console.error(\"error logging out\", _context.t1);\n        case 33:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 15], [19, 30]]);\n  }));\n}\nfunction l(o, t, i) {\n  o && !i && (typeof t == \"function\" ? t(o) : d(o));\n}\nexport { z as a };","map":{"version":3,"names":["a","I","w","d","y","b","v","p","u","c","C","E","s","f","A","m","L","j","P","o","t","local","getItem","logoutEvent","_ref","JSON","parse","data","i","setItem","key","expires","removeItem","z","arguments","length","undefined","_regeneratorRuntime","mark","_callee","r","h","T","n","e","g","wrap","_callee$","_context","prev","next","relogin","abrupt","sent","l","t0","console","error","dispatch","window","location","origin","setTimeout","logout","callbackUrl","t1","stop"],"sources":["/Users/neville/Documents/Github/elrond-delegation/node_modules/@multiversx/sdk-dapp/__chunks__/chunk-QRPURFAS.js"],"sourcesContent":["import{a as I}from\"./chunk-JASKCX5T.js\";import{a as w}from\"./chunk-KVVBB443.js\";import{d as y}from\"./chunk-QFKT22AW.js\";import{b as v}from\"./chunk-5V4KCOPF.js\";import{a as p}from\"./chunk-IBNOB7HH.js\";import{a as u,b as d,c as C}from\"./chunk-XRCJ5PNU.js\";import{a,b as E}from\"./chunk-HSUU5363.js\";import{a as s,f as A}from\"./chunk-WZZ2ZH2A.js\";import{a as m,c as L}from\"./chunk-EC436OTI.js\";import{a as b}from\"./chunk-4Z6EY67I.js\";import{j as c,m as f}from\"./chunk-HBP5N4FR.js\";f();L();b();C();E();A();var P=o=>{let t=a.local.getItem(s.logoutEvent),{data:i}=t?JSON.parse(t):{data:o};o===i&&(a.local.setItem({key:s.logoutEvent,data:o,expires:0}),a.local.removeItem(s.logoutEvent))};function z(o,t,i=!0){return c(this,null,function*(){let r=y(),h=v(r),T=w(),n=h===\"wallet\";if(i&&(r==null?void 0:r.relogin)!=null)return yield r.relogin();if(!T||!r){l(o,t,!1);return}try{let e=yield I();P(e)}catch(e){l(o,t,!1),console.error(\"error fetching logout address\",e)}n&&u(),p.dispatch(m());try{let g=n&&!o?window==null?void 0:window.location.origin:o;n?setTimeout(()=>{r.logout({callbackUrl:g})}):(yield r.logout({callbackUrl:g}),l(o,t,n))}catch(e){console.error(\"error logging out\",e)}})}function l(o,t,i){o&&!i&&(typeof t==\"function\"?t(o):d(o))}export{z as a};\n//# sourceMappingURL=chunk-QRPURFAS.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}