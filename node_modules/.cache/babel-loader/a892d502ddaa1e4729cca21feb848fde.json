{"ast":null,"code":"import _regeneratorRuntime from \"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { b as t } from \"./chunk-3SGZP5CP.js\";\nimport { a } from \"./chunk-YZC6D7ZZ.js\";\nimport { a as l } from \"./chunk-YAR2KJ42.js\";\nimport { a as m } from \"./chunk-KZR7TQ7H.js\";\nimport { a as u } from \"./chunk-JHW32CXC.js\";\nimport { c as i } from \"./chunk-G3PZHPKZ.js\";\nimport { a as C } from \"./chunk-OUEPJKUR.js\";\nimport { l as c } from \"./chunk-LHCY2HW6.js\";\nimport { j as n, m as s } from \"./chunk-HBP5N4FR.js\";\ns();\nimport { useCallback as b, useEffect as f, useRef as d } from \"react\";\nimport { io as A } from \"socket.io-client\";\nC();\nvar I = 3e3,\n  w = 3,\n  M = 500,\n  R = 1e3;\nfunction z() {\n  var _this = this;\n  var o = d(null),\n    _u = u(),\n    r = _u.address,\n    E = i(),\n    _a = a(),\n    T = _a.network,\n    p = function p(e) {\n      o.current && clearTimeout(o.current), o.current = setTimeout(function () {\n        E(c(e));\n      }, R);\n    },\n    k = b(m(function () {\n      return n(_this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var e;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              t.status = \"pending\";\n              _context.next = 3;\n              return l(T.apiAddress);\n            case 3:\n              e = _context.sent;\n              if (!(e == null)) {\n                _context.next = 7;\n                break;\n              }\n              console.warn(\"Can not get websocket url\");\n              return _context.abrupt(\"return\");\n            case 7:\n              t.current = A(e, {\n                forceNew: !0,\n                reconnectionAttempts: w,\n                timeout: I,\n                query: {\n                  address: r\n                }\n              }), t.status = \"completed\", t.current.onAny(function (N) {\n                p(N);\n              });\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n    }, {\n      retries: 2,\n      delay: M\n    }), [r]);\n  f(function () {\n    r && t.status === \"not_initialized\" && !t.current && k();\n  }, [r, t.current]), f(function () {\n    return function () {\n      var e;\n      (e = t.current) == null || e.close(), o.current && clearTimeout(o.current);\n    };\n  }, []);\n}\nexport { z as a };","map":{"version":3,"names":["b","t","a","l","m","u","c","i","C","j","n","s","useCallback","useEffect","f","useRef","d","io","A","I","w","M","R","z","_this","o","_u","r","address","E","_a","T","network","p","e","current","clearTimeout","setTimeout","k","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","status","apiAddress","sent","console","warn","abrupt","forceNew","reconnectionAttempts","timeout","query","onAny","N","stop","retries","delay","close"],"sources":["/Users/neville/Documents/Github/elrond-delegation/node_modules/@multiversx/sdk-dapp/__chunks__/chunk-RTPBDY4Q.js"],"sourcesContent":["import{b as t}from\"./chunk-3SGZP5CP.js\";import{a}from\"./chunk-YZC6D7ZZ.js\";import{a as l}from\"./chunk-YAR2KJ42.js\";import{a as m}from\"./chunk-KZR7TQ7H.js\";import{a as u}from\"./chunk-JHW32CXC.js\";import{c as i}from\"./chunk-G3PZHPKZ.js\";import{a as C}from\"./chunk-OUEPJKUR.js\";import{l as c}from\"./chunk-LHCY2HW6.js\";import{j as n,m as s}from\"./chunk-HBP5N4FR.js\";s();import{useCallback as b,useEffect as f,useRef as d}from\"react\";import{io as A}from\"socket.io-client\";C();var I=3e3,w=3,M=500,R=1e3;function z(){let o=d(null),{address:r}=u(),E=i(),{network:T}=a(),p=e=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{E(c(e))},R)},k=b(m(()=>n(this,null,function*(){t.status=\"pending\";let e=yield l(T.apiAddress);if(e==null){console.warn(\"Can not get websocket url\");return}t.current=A(e,{forceNew:!0,reconnectionAttempts:w,timeout:I,query:{address:r}}),t.status=\"completed\",t.current.onAny(N=>{p(N)})}),{retries:2,delay:M}),[r]);f(()=>{r&&t.status===\"not_initialized\"&&!t.current&&k()},[r,t.current]),f(()=>()=>{var e;(e=t.current)==null||e.close(),o.current&&clearTimeout(o.current)},[])}export{z as a};\n//# sourceMappingURL=chunk-RTPBDY4Q.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}