{"ast":null,"code":"import _slicedToArray from\"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{faSpinner}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useGetAccountInfo}from'@multiversx/sdk-dapp/hooks/account/useGetAccountInfo';import{useNavigate}from'react-router-dom';import{Cards}from'components/Cards';import{Heading}from'components/Heading';import{Nodes}from'components/Nodes';import{Toggles}from'components/Toggles';import{useGlobalContext}from'context';import useGlobalData from'../../hooks/useGlobalData';import styles from'./styles.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Admin=function Admin(){var _useGetAccountInfo=useGetAccountInfo(),address=_useGetAccountInfo.address;var _useGlobalContext=useGlobalContext(),contractDetails=_useGlobalContext.contractDetails;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var navigate=useNavigate();var handleRedirect=function handleRedirect(){if(!Boolean(address)){navigate('/unlock');return;}if(contractDetails.status==='loaded'){if(contractDetails.data&&contractDetails.data.owner){setLoading(false);}else{navigate('/dashboard');}}};useEffect(handleRedirect,[address,contractDetails.data]);useGlobalData();if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'30px'},className:\"d-flex align-items-center justify-content-center text-white flex-fill\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSpinner,size:\"2x\",spin:true,className:\"mr-3\"}),\"Loading...\"]});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.admin,children:[/*#__PURE__*/_jsx(Heading,{}),/*#__PURE__*/_jsx(Cards,{}),/*#__PURE__*/_jsx(Toggles,{}),/*#__PURE__*/_jsx(Nodes,{})]});};","map":{"version":3,"names":["React","useEffect","useState","faSpinner","FontAwesomeIcon","useGetAccountInfo","useNavigate","Cards","Heading","Nodes","Toggles","useGlobalContext","useGlobalData","styles","jsx","_jsx","jsxs","_jsxs","Admin","_useGetAccountInfo","address","_useGlobalContext","contractDetails","_useState","_useState2","_slicedToArray","loading","setLoading","navigate","handleRedirect","Boolean","status","data","owner","style","fontSize","className","children","icon","size","spin","admin"],"sources":["/Users/neville/Documents/Github/elrond-delegation/src/pages/Admin/Admin.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useGetAccountInfo } from '@multiversx/sdk-dapp/hooks/account/useGetAccountInfo';\nimport { useNavigate } from 'react-router-dom';\n\nimport { Cards } from 'components/Cards';\nimport { Heading } from 'components/Heading';\nimport { Nodes } from 'components/Nodes';\nimport { Toggles } from 'components/Toggles';\n\nimport { useGlobalContext } from 'context';\n\nimport useGlobalData from '../../hooks/useGlobalData';\nimport styles from './styles.module.scss';\n\nexport const Admin = () => {\n  const { address } = useGetAccountInfo();\n  const { contractDetails } = useGlobalContext();\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const navigate = useNavigate();\n  const handleRedirect = () => {\n    if (!Boolean(address)) {\n      navigate('/unlock');\n      return;\n    }\n\n    if (contractDetails.status === 'loaded') {\n      if (contractDetails.data && contractDetails.data.owner) {\n        setLoading(false);\n      } else {\n        navigate('/dashboard');\n      }\n    }\n  };\n\n  useEffect(handleRedirect, [address, contractDetails.data]);\n  useGlobalData();\n\n  if (loading) {\n    return (\n      <div\n        style={{ fontSize: '30px' }}\n        className='d-flex align-items-center justify-content-center text-white flex-fill'\n      >\n        <FontAwesomeIcon\n          icon={faSpinner}\n          size='2x'\n          spin={true}\n          className='mr-3'\n        />\n        Loading...\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.admin}>\n      <Heading />\n      <Cards />\n      <Toggles />\n      <Nodes />\n    </div>\n  );\n};\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,mCAAmC,CAC7D,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,iBAAiB,KAAQ,sDAAsD,CACxF,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,KAAK,KAAQ,kBAAkB,CACxC,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,OAASC,KAAK,KAAQ,kBAAkB,CACxC,OAASC,OAAO,KAAQ,oBAAoB,CAE5C,OAASC,gBAAgB,KAAQ,SAAS,CAE1C,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,IAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CACzB,IAAAC,kBAAA,CAAoBd,iBAAiB,EAAE,CAA/Be,OAAO,CAAAD,kBAAA,CAAPC,OAAO,CACf,IAAAC,iBAAA,CAA4BV,gBAAgB,EAAE,CAAtCW,eAAe,CAAAD,iBAAA,CAAfC,eAAe,CACvB,IAAAC,SAAA,CAA8BrB,QAAQ,CAAU,IAAI,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9CG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,QAAQ,CAAGtB,WAAW,EAAE,CAC9B,GAAM,CAAAuB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAI,CAACC,OAAO,CAACV,OAAO,CAAC,CAAE,CACrBQ,QAAQ,CAAC,SAAS,CAAC,CACnB,OACF,CAEA,GAAIN,eAAe,CAACS,MAAM,GAAK,QAAQ,CAAE,CACvC,GAAIT,eAAe,CAACU,IAAI,EAAIV,eAAe,CAACU,IAAI,CAACC,KAAK,CAAE,CACtDN,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,IAAM,CACLC,QAAQ,CAAC,YAAY,CAAC,CACxB,CACF,CACF,CAAC,CAED3B,SAAS,CAAC4B,cAAc,CAAE,CAACT,OAAO,CAAEE,eAAe,CAACU,IAAI,CAAC,CAAC,CAC1DpB,aAAa,EAAE,CAEf,GAAIc,OAAO,CAAE,CACX,mBACET,KAAA,QACEiB,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAC5BC,SAAS,CAAC,uEAAuE,CAAAC,QAAA,eAEjFtB,IAAA,CAACX,eAAe,EACdkC,IAAI,CAAEnC,SAAU,CAChBoC,IAAI,CAAC,IAAI,CACTC,IAAI,CAAE,IAAK,CACXJ,SAAS,CAAC,MAAM,EAChB,aAEJ,GAAM,CAEV,CAEA,mBACEnB,KAAA,QAAKmB,SAAS,CAAEvB,MAAM,CAAC4B,KAAM,CAAAJ,QAAA,eAC3BtB,IAAA,CAACP,OAAO,IAAG,cACXO,IAAA,CAACR,KAAK,IAAG,cACTQ,IAAA,CAACL,OAAO,IAAG,cACXK,IAAA,CAACN,KAAK,IAAG,GACL,CAEV,CAAC"},"metadata":{},"sourceType":"module"}