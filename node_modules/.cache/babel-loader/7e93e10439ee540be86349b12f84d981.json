{"ast":null,"code":"import _regeneratorRuntime from \"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { a as E } from \"./chunk-JX5SSSLF.js\";\nimport { c as B, d as m } from \"./chunk-G3PZHPKZ.js\";\nimport { a as A } from \"./chunk-B6PGANAK.js\";\nimport { d as M } from \"./chunk-EV2NV6KZ.js\";\nimport { b as w } from \"./chunk-JLY4442Z.js\";\nimport { a as I } from \"./chunk-24OJ7KCF.js\";\nimport { a as q } from \"./chunk-OUEPJKUR.js\";\nimport { b as h } from \"./chunk-D5D6AV6G.js\";\nimport { b, c as W } from \"./chunk-XRCJ5PNU.js\";\nimport { c as u, e as R } from \"./chunk-2AOPQAPV.js\";\nimport { o as U } from \"./chunk-K2GW23ZC.js\";\nimport { a as l, b as T, j as g, m as y } from \"./chunk-HBP5N4FR.js\";\ny();\nimport { useEffect as z, useRef as F } from \"react\";\nimport { Address as G } from \"@multiversx/sdk-core\";\nimport { Signature as J } from \"@multiversx/sdk-core/out/signature\";\nq();\nU();\nW();\nvar P = function P(c) {\n    var t = c.redirectRoute;\n    t && b(t);\n  },\n  mn = function mn(_ref) {\n    var _ref$sendSignedTransa = _ref.sendSignedTransactionsAsync,\n      c = _ref$sendSignedTransa === void 0 ? A : _ref$sendSignedTransa;\n    var t = m(w),\n      n = m(M),\n      r = F(!1),\n      a = B(),\n      S = function S() {\n        a(R()), r.current = !1;\n      };\n    function j() {\n      return g(this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var f, k, _loop, _i, _k, _ret;\n        return _regeneratorRuntime().wrap(function _callee$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              k = Object.keys(n);\n              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                var e, o, x, i, C, O, v, D;\n                return _regeneratorRuntime().wrap(function _loop$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      e = _k[_i];\n                      o = n == null ? void 0 : n[e], x = (f = o == null ? void 0 : o.customTransactionInformation) == null ? void 0 : f.signWithoutSending;\n                      if (!(!e || x)) {\n                        _context.next = 5;\n                        break;\n                      }\n                      P(o);\n                      return _context.abrupt(\"return\", \"continue\");\n                    case 5:\n                      _context.prev = 5;\n                      if (n[e].status === \"signed\" && !r.current) {\n                        _context.next = 8;\n                        break;\n                      }\n                      return _context.abrupt(\"return\", \"continue\");\n                    case 8:\n                      i = n[e].transactions;\n                      if (i) {\n                        _context.next = 11;\n                        break;\n                      }\n                      return _context.abrupt(\"return\", \"continue\");\n                    case 11:\n                      r.current = !0;\n                      C = i.map(function (s) {\n                        var H = new G(s.sender),\n                          p = I(s),\n                          N = new J(s.signature);\n                        return p.applySignature(N, H), p;\n                      });\n                      _context.next = 15;\n                      return c(C);\n                    case 15:\n                      O = _context.sent;\n                      v = \"pending\";\n                      D = i.map(function (s) {\n                        return O.includes(s.hash) ? T(l({}, s), {\n                          status: v\n                        }) : s;\n                      });\n                      a(h({\n                        sessionId: e,\n                        submittedMessage: \"submitted\"\n                      })), a(u({\n                        sessionId: e,\n                        status: \"sent\",\n                        transactions: D\n                      })), S(), E(t.nonce + i.length), P(o), history.pushState({}, document == null ? void 0 : document.title, \"?\");\n                      _context.next = 24;\n                      break;\n                    case 21:\n                      _context.prev = 21;\n                      _context.t0 = _context[\"catch\"](5);\n                      console.error(\"Unable to send transactions\", _context.t0), a(u({\n                        sessionId: e,\n                        status: \"fail\",\n                        errorMessage: _context.t0.message\n                      })), S();\n                    case 24:\n                      _context.prev = 24;\n                      r.current = !1;\n                      return _context.finish(24);\n                    case 27:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, _loop, null, [[5, 21, 24, 27]]);\n              });\n              _i = 0, _k = k;\n            case 3:\n              if (!(_i < _k.length)) {\n                _context2.next = 11;\n                break;\n              }\n              return _context2.delegateYield(_loop(), \"t0\", 5);\n            case 5:\n              _ret = _context2.t0;\n              if (!(_ret === \"continue\")) {\n                _context2.next = 8;\n                break;\n              }\n              return _context2.abrupt(\"continue\", 8);\n            case 8:\n              _i++;\n              _context2.next = 3;\n              break;\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee);\n      }));\n    }\n    return z(function () {\n      j();\n    }, [n, t]), null;\n  };\nexport { mn as a };","map":{"version":3,"names":["a","E","c","B","d","m","A","M","b","w","I","q","h","W","u","e","R","o","U","l","T","j","g","y","useEffect","z","useRef","F","Address","G","Signature","J","P","t","redirectRoute","mn","_ref","_ref$sendSignedTransa","sendSignedTransactionsAsync","n","r","S","current","_regeneratorRuntime","mark","_callee","f","k","_loop","_i","_k","_ret","wrap","_callee$","_context2","prev","next","Object","keys","x","i","C","O","v","D","_loop$","_context","customTransactionInformation","signWithoutSending","abrupt","status","transactions","map","s","H","sender","p","N","signature","applySignature","sent","includes","hash","sessionId","submittedMessage","nonce","length","history","pushState","document","title","t0","console","error","errorMessage","message","finish","stop","delegateYield"],"sources":["/Users/neville/Documents/Github/elrond-delegation/node_modules/@multiversx/sdk-dapp/__chunks__/chunk-MU3IENP2.js"],"sourcesContent":["import{a as E}from\"./chunk-JX5SSSLF.js\";import{c as B,d as m}from\"./chunk-G3PZHPKZ.js\";import{a as A}from\"./chunk-B6PGANAK.js\";import{d as M}from\"./chunk-EV2NV6KZ.js\";import{b as w}from\"./chunk-JLY4442Z.js\";import{a as I}from\"./chunk-24OJ7KCF.js\";import{a as q}from\"./chunk-OUEPJKUR.js\";import{b as h}from\"./chunk-D5D6AV6G.js\";import{b,c as W}from\"./chunk-XRCJ5PNU.js\";import{c as u,e as R}from\"./chunk-2AOPQAPV.js\";import{o as U}from\"./chunk-K2GW23ZC.js\";import{a as l,b as T,j as g,m as y}from\"./chunk-HBP5N4FR.js\";y();import{useEffect as z,useRef as F}from\"react\";import{Address as G}from\"@multiversx/sdk-core\";import{Signature as J}from\"@multiversx/sdk-core/out/signature\";q();U();W();var P=c=>{let t=c.redirectRoute;t&&b(t)},mn=({sendSignedTransactionsAsync:c=A})=>{let t=m(w),n=m(M),r=F(!1),a=B(),S=()=>{a(R()),r.current=!1};function j(){return g(this,null,function*(){var f;let k=Object.keys(n);for(let e of k){let o=n==null?void 0:n[e],x=(f=o==null?void 0:o.customTransactionInformation)==null?void 0:f.signWithoutSending;if(!e||x){P(o);continue}try{if(!(n[e].status===\"signed\"&&!r.current))continue;let{transactions:i}=n[e];if(!i)continue;r.current=!0;let C=i.map(s=>{let H=new G(s.sender),p=I(s),N=new J(s.signature);return p.applySignature(N,H),p}),O=yield c(C),v=\"pending\",D=i.map(s=>O.includes(s.hash)?T(l({},s),{status:v}):s);a(h({sessionId:e,submittedMessage:\"submitted\"})),a(u({sessionId:e,status:\"sent\",transactions:D})),S(),E(t.nonce+i.length),P(o),history.pushState({},document==null?void 0:document.title,\"?\")}catch(d){console.error(\"Unable to send transactions\",d),a(u({sessionId:e,status:\"fail\",errorMessage:d.message})),S()}finally{r.current=!1}}})}return z(()=>{j()},[n,t]),null};export{mn as a};\n//# sourceMappingURL=chunk-MU3IENP2.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}