{"ast":null,"code":"import { b as l } from \"./chunk-C4A6VHGL.js\";\nimport { a as c } from \"./chunk-Q32POUGY.js\";\nimport { a as m } from \"./chunk-QNH7L3M6.js\";\nimport { d as a } from \"./chunk-G3PZHPKZ.js\";\nimport { a as f } from \"./chunk-DBD6N2CW.js\";\nimport { a as u } from \"./chunk-VMWLEDGI.js\";\nimport { m as s } from \"./chunk-HBP5N4FR.js\";\ns();\nimport { useEffect as S, useRef as W } from \"react\";\nimport { faRefresh as A } from \"@fortawesome/free-solid-svg-icons\";\nimport g from \"bignumber.js\";\nvar M = function M() {\n  var _m = m(),\n    p = _m.address,\n    _a = a(u),\n    t = _a.tokenLogin,\n    _c = c(t == null ? void 0 : t.nativeAuthToken),\n    n = _c.secondsUntilExpires,\n    d = _c.expiresAt,\n    o = W();\n  return S(function () {\n    var i;\n    var e = new g(String(n)),\n      T = e.times(1e3);\n    if (!(!n || e.isLessThanOrEqualTo(0))) {\n      if ((i = t == null ? void 0 : t.nativeAuthConfig) != null && i.tokenExpirationToastWarningSeconds) {\n        clearTimeout(o.current);\n        var x = new g(t.nativeAuthConfig.tokenExpirationToastWarningSeconds).times(1e3),\n          r = e.times(1e3).minus(x),\n          E = f(T.toNumber()),\n          h = r.isLessThanOrEqualTo(0) ? 0 : r.toNumber();\n        o.current = setTimeout(function () {\n          l({\n            toastId: \"nativeAuthTokenExpiration\",\n            type: \"custom\",\n            title: \"Session Expiration Warning\",\n            icon: A,\n            message: \"Your token will expire in \".concat(E, \"!\")\n          });\n        }, h);\n      }\n      return function () {\n        clearTimeout(o.current);\n      };\n    }\n  }, [d, p, t == null ? void 0 : t.nativeAuthConfig]), null;\n};\nexport { M as a };","map":{"version":3,"names":["b","l","a","c","m","d","f","u","s","useEffect","S","useRef","W","faRefresh","A","g","M","_m","p","address","_a","t","tokenLogin","_c","nativeAuthToken","n","secondsUntilExpires","expiresAt","o","i","e","String","T","times","isLessThanOrEqualTo","nativeAuthConfig","tokenExpirationToastWarningSeconds","clearTimeout","current","x","r","minus","E","toNumber","h","setTimeout","toastId","type","title","icon","message","concat"],"sources":["/Users/neville/Documents/Github/elrond-delegation/node_modules/@multiversx/sdk-dapp/__chunks__/chunk-L57O22OD.js"],"sourcesContent":["import{b as l}from\"./chunk-C4A6VHGL.js\";import{a as c}from\"./chunk-Q32POUGY.js\";import{a as m}from\"./chunk-QNH7L3M6.js\";import{d as a}from\"./chunk-G3PZHPKZ.js\";import{a as f}from\"./chunk-DBD6N2CW.js\";import{a as u}from\"./chunk-VMWLEDGI.js\";import{m as s}from\"./chunk-HBP5N4FR.js\";s();import{useEffect as S,useRef as W}from\"react\";import{faRefresh as A}from\"@fortawesome/free-solid-svg-icons\";import g from\"bignumber.js\";var M=()=>{let{address:p}=m(),{tokenLogin:t}=a(u),{secondsUntilExpires:n,expiresAt:d}=c(t==null?void 0:t.nativeAuthToken),o=W();return S(()=>{var i;let e=new g(String(n)),T=e.times(1e3);if(!(!n||e.isLessThanOrEqualTo(0))){if((i=t==null?void 0:t.nativeAuthConfig)!=null&&i.tokenExpirationToastWarningSeconds){clearTimeout(o.current);let x=new g(t.nativeAuthConfig.tokenExpirationToastWarningSeconds).times(1e3),r=e.times(1e3).minus(x),E=f(T.toNumber()),h=r.isLessThanOrEqualTo(0)?0:r.toNumber();o.current=setTimeout(()=>{l({toastId:\"nativeAuthTokenExpiration\",type:\"custom\",title:\"Session Expiration Warning\",icon:A,message:`Your token will expire in ${E}!`})},h)}return()=>{clearTimeout(o.current)}}},[d,p,t==null?void 0:t.nativeAuthConfig]),null};export{M as a};\n//# sourceMappingURL=chunk-L57O22OD.js.map\n"],"mappings":"AAAA,SAAOA,CAAC,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOD,CAAC,IAAIE,CAAC,QAAK,qBAAqB;AAAC,SAAOC,CAAC,IAAIH,CAAC,QAAK,qBAAqB;AAAC,SAAOA,CAAC,IAAII,CAAC,QAAK,qBAAqB;AAAC,SAAOJ,CAAC,IAAIK,CAAC,QAAK,qBAAqB;AAAC,SAAOH,CAAC,IAAII,CAAC,QAAK,qBAAqB;AAACA,CAAC,EAAE;AAAC,SAAOC,SAAS,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,mCAAmC;AAAC,OAAOC,CAAC,MAAK,cAAc;AAAC,IAAIC,CAAC,GAAC,SAAFA,CAACA,CAAA,EAAK;EAAC,IAAAC,EAAA,GAAeb,CAAC,EAAE;IAANc,CAAC,GAAAD,EAAA,CAATE,OAAO;IAAAC,EAAA,GAAuBlB,CAAC,CAACK,CAAC,CAAC;IAAPc,CAAC,GAAAD,EAAA,CAAZE,UAAU;IAAAC,EAAA,GAA6CpB,CAAC,CAACkB,CAAC,IAAE,IAAI,GAAC,KAAK,CAAC,GAACA,CAAC,CAACG,eAAe,CAAC;IAAlDC,CAAC,GAAAF,EAAA,CAArBG,mBAAmB;IAAarB,CAAC,GAAAkB,EAAA,CAAXI,SAAS;IAAwCC,CAAC,GAAChB,CAAC,EAAE;EAAC,OAAOF,CAAC,CAAC,YAAI;IAAC,IAAImB,CAAC;IAAC,IAAIC,CAAC,GAAC,IAAIf,CAAC,CAACgB,MAAM,CAACN,CAAC,CAAC,CAAC;MAACO,CAAC,GAACF,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC;IAAC,IAAG,EAAE,CAACR,CAAC,IAAEK,CAAC,CAACI,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAC;MAAC,IAAG,CAACL,CAAC,GAACR,CAAC,IAAE,IAAI,GAAC,KAAK,CAAC,GAACA,CAAC,CAACc,gBAAgB,KAAG,IAAI,IAAEN,CAAC,CAACO,kCAAkC,EAAC;QAACC,YAAY,CAACT,CAAC,CAACU,OAAO,CAAC;QAAC,IAAIC,CAAC,GAAC,IAAIxB,CAAC,CAACM,CAAC,CAACc,gBAAgB,CAACC,kCAAkC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC;UAACO,CAAC,GAACV,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAACQ,KAAK,CAACF,CAAC,CAAC;UAACG,CAAC,GAACpC,CAAC,CAAC0B,CAAC,CAACW,QAAQ,EAAE,CAAC;UAACC,CAAC,GAACJ,CAAC,CAACN,mBAAmB,CAAC,CAAC,CAAC,GAAC,CAAC,GAACM,CAAC,CAACG,QAAQ,EAAE;QAACf,CAAC,CAACU,OAAO,GAACO,UAAU,CAAC,YAAI;UAAC5C,CAAC,CAAC;YAAC6C,OAAO,EAAC,2BAA2B;YAACC,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAC,4BAA4B;YAACC,IAAI,EAACnC,CAAC;YAACoC,OAAO,+BAAAC,MAAA,CAA8BT,CAAC;UAAG,CAAC,CAAC;QAAA,CAAC,EAACE,CAAC,CAAC;MAAA;MAAC,OAAM,YAAI;QAACP,YAAY,CAACT,CAAC,CAACU,OAAO,CAAC;MAAA,CAAC;IAAA;EAAC,CAAC,EAAC,CAACjC,CAAC,EAACa,CAAC,EAACG,CAAC,IAAE,IAAI,GAAC,KAAK,CAAC,GAACA,CAAC,CAACc,gBAAgB,CAAC,CAAC,EAAC,IAAI;AAAA,CAAC;AAAC,SAAOnB,CAAC,IAAId,CAAC"},"metadata":{},"sourceType":"module"}