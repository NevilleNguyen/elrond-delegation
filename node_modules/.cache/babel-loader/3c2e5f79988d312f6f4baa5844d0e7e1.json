{"ast":null,"code":"import { b as p } from \"./chunk-3SYOVVPU.js\";\nimport { c as g, d } from \"./chunk-XAQNBFSL.js\";\nimport { a as i, b as M } from \"./chunk-HSUU5363.js\";\nimport { a as F } from \"./chunk-6XR6BLIB.js\";\nimport { a as I } from \"./chunk-HGOHQNWK.js\";\nimport { m as x } from \"./chunk-HBP5N4FR.js\";\nx();\nF();\nimport l, { useEffect as V, useMemo as W, useRef as T } from \"react\";\nimport w from \"classnames\";\nM();\nvar c = \"toastProgress\",\n  Y = function Y(_ref) {\n    var a = _ref.id,\n      R = _ref.children,\n      s = _ref.progress,\n      b = _ref.done,\n      _ref$expiresIn = _ref.expiresIn,\n      h = _ref$expiresIn === void 0 ? 10 * 60 : _ref$expiresIn,\n      _ref$className = _ref.className,\n      N = _ref$className === void 0 ? \"dapp-progress\" : _ref$className,\n      _ref$isCrossShard = _ref.isCrossShard,\n      v = _ref$isCrossShard === void 0 ? !1 : _ref$isCrossShard;\n    var _W = W(function () {\n        var r = (i.session.getItem(c) || {})[a],\n          t = s ? s.endTime - s.startTime : 0;\n        return {\n          currentRemaining: r || 100,\n          totalSeconds: t\n        };\n      }, []),\n      E = _W.currentRemaining,\n      P = _W.totalSeconds,\n      o = T(null),\n      m = T(),\n      n = T(E);\n    V(function () {\n      if (s != null) return b ? _() : A(), function () {\n        clearInterval(m.current);\n      };\n    }, [s, b]);\n    function y() {\n      var e = i.session.getItem(c);\n      !Boolean(e == null ? void 0 : e[a]) || (delete e[a], S(e));\n    }\n    function f(e) {\n      var r = i.session.getItem(c) || {};\n      r[a] = e, S(r);\n    }\n    function S(e) {\n      i.session.setItem({\n        key: c,\n        data: e,\n        expires: I(h)\n      });\n    }\n    function _() {\n      if (n.current < 100) {\n        u(0);\n        return;\n      }\n      m.current = setInterval(function () {\n        if (o.current == null) return;\n        var r = n.current - 1;\n        r <= 0 ? (clearInterval(m.current), y(), u(0)) : (f(r), u(r));\n      }, g);\n    }\n    function A() {\n      if ((i.session.getItem(c) || {})[a] === n.current) {\n        var t = d({\n          remaining: n.current,\n          totalSeconds: P,\n          isCrossShard: v\n        });\n        u(t), f(t);\n      }\n      m.current = setInterval(function () {\n        if (o.current == null) return;\n        var t = d({\n          remaining: n.current,\n          totalSeconds: P,\n          isCrossShard: v\n        });\n        f(t), u(t);\n      }, g);\n    }\n    function u(e) {\n      n.current = e, O();\n    }\n    function O() {\n      if (o.current == null) return;\n      var e = n.current;\n      o.current.style.width = \"\".concat(e, \"%\"), o.current.ariaValueNow = e;\n    }\n    return s ? l.createElement(\"div\", {\n      className: w(p.progress, N)\n    }, l.createElement(\"div\", {\n      ref: o,\n      role: \"progressbar\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      className: p.bar\n    }), R) : l.createElement(l.Fragment, null, R);\n  };\nexport { Y as a };","map":{"version":3,"names":["b","p","c","g","d","a","i","M","F","I","m","x","l","useEffect","V","useMemo","W","useRef","T","w","Y","_ref","id","R","children","s","progress","done","_ref$expiresIn","expiresIn","h","_ref$className","className","N","_ref$isCrossShard","isCrossShard","v","_W","r","session","getItem","t","endTime","startTime","currentRemaining","totalSeconds","E","P","o","n","_","A","clearInterval","current","y","e","Boolean","S","f","setItem","key","data","expires","u","setInterval","remaining","O","style","width","concat","ariaValueNow","createElement","ref","role","bar","Fragment"],"sources":["/Users/neville/Documents/Github/elrond-delegation/node_modules/@multiversx/sdk-dapp/__chunks__/chunk-PO7P2NDG.js"],"sourcesContent":["import{b as p}from\"./chunk-3SYOVVPU.js\";import{c as g,d}from\"./chunk-XAQNBFSL.js\";import{a as i,b as M}from\"./chunk-HSUU5363.js\";import{a as F}from\"./chunk-6XR6BLIB.js\";import{a as I}from\"./chunk-HGOHQNWK.js\";import{m as x}from\"./chunk-HBP5N4FR.js\";x();F();import l,{useEffect as V,useMemo as W,useRef as T}from\"react\";import w from\"classnames\";M();var c=\"toastProgress\",Y=({id:a,children:R,progress:s,done:b,expiresIn:h=10*60,className:N=\"dapp-progress\",isCrossShard:v=!1})=>{let{currentRemaining:E,totalSeconds:P}=W(()=>{let r=(i.session.getItem(c)||{})[a],t=s?s.endTime-s.startTime:0;return{currentRemaining:r||100,totalSeconds:t}},[]),o=T(null),m=T(),n=T(E);V(()=>{if(s!=null)return b?_():A(),()=>{clearInterval(m.current)}},[s,b]);function y(){let e=i.session.getItem(c);!Boolean(e==null?void 0:e[a])||(delete e[a],S(e))}function f(e){let r=i.session.getItem(c)||{};r[a]=e,S(r)}function S(e){i.session.setItem({key:c,data:e,expires:I(h)})}function _(){if(n.current<100){u(0);return}m.current=setInterval(()=>{if(o.current==null)return;let r=n.current-1;r<=0?(clearInterval(m.current),y(),u(0)):(f(r),u(r))},g)}function A(){if((i.session.getItem(c)||{})[a]===n.current){let t=d({remaining:n.current,totalSeconds:P,isCrossShard:v});u(t),f(t)}m.current=setInterval(()=>{if(o.current==null)return;let t=d({remaining:n.current,totalSeconds:P,isCrossShard:v});f(t),u(t)},g)}function u(e){n.current=e,O()}function O(){if(o.current==null)return;let e=n.current;o.current.style.width=`${e}%`,o.current.ariaValueNow=e}return s?l.createElement(\"div\",{className:w(p.progress,N)},l.createElement(\"div\",{ref:o,role:\"progressbar\",\"aria-valuemin\":0,\"aria-valuemax\":100,className:p.bar}),R):l.createElement(l.Fragment,null,R)};export{Y as a};\n//# sourceMappingURL=chunk-PO7P2NDG.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}