{"ast":null,"code":"import _defineProperty from \"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/neville/Documents/Github/elrond-delegation/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"/Users/neville/Documents/Github/elrond-delegation/src/components/Cards/components/ChangeServiceFee/ChangeServiceFee.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React from 'react';\nimport classNames from 'classnames';\nimport { Formik } from 'formik';\nimport { Submit } from 'components/Action';\nimport { useGlobalContext } from 'context';\nimport { nominateVal } from 'helpers/nominate';\nimport useTransaction from 'helpers/useTransaction';\nimport styles from './styles.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var ChangeServiceFee = function ChangeServiceFee() {\n  _s();\n  var breakpoints = [0, 25, 50, 75, 100];\n  var _useTransaction = useTransaction(),\n    sendTransaction = _useTransaction.sendTransaction;\n  var _useGlobalContext = useGlobalContext(),\n    contractDetails = _useGlobalContext.contractDetails;\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return sendTransaction({\n              args: nominateVal(data.amount),\n              type: 'changeServiceFee',\n              value: '0'\n            });\n          case 3:\n            _context.next = 8;\n            break;\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    onSubmit: onSubmit,\n    initialValues: {\n      amount: contractDetails.data ? contractDetails.data.serviceFee.replace('%', '') : '0'\n    },\n    children: function children(_ref2) {\n      var values = _ref2.values,\n        handleChange = _ref2.handleChange,\n        handleBlur = _ref2.handleBlur,\n        handleSubmit = _ref2.handleSubmit;\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"\".concat(styles.serviceFee, \" serviceFee\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.range,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.input,\n            name: \"amount\",\n            type: \"range\",\n            onBlur: handleBlur,\n            onChange: handleChange,\n            min: 0,\n            max: 100,\n            value: values.amount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.thumb,\n            style: {\n              left: \"\".concat(values.amount, \"%\")\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [values.amount, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.completion,\n            style: {\n              width: \"\".concat(values.amount, \"%\")\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, _this), breakpoints.map(function (breakpoint) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                left: \"\".concat(breakpoint, \"%\")\n              },\n              className: classNames(styles.breakpoint, _defineProperty({}, styles.completed, breakpoint <= parseInt(values.amount))),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [breakpoint, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, _this)\n            }, \"breakpoint-\".concat(breakpoint), false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, _this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Submit, {\n          close: \"Cancel\",\n          submit: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, _this);\n};\n_s(ChangeServiceFee, \"KAaFxDgYbNxJTK0yW0zNKG8VKFA=\", false, function () {\n  return [useTransaction, useGlobalContext];\n});\n_c = ChangeServiceFee;\nvar _c;\n$RefreshReg$(_c, \"ChangeServiceFee\");","map":{"version":3,"names":["React","classNames","Formik","Submit","useGlobalContext","nominateVal","useTransaction","styles","jsxDEV","_jsxDEV","ChangeServiceFee","_s","breakpoints","_useTransaction","sendTransaction","_useGlobalContext","contractDetails","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","args","amount","type","value","t0","console","error","stop","_x","apply","arguments","initialValues","serviceFee","replace","children","_ref2","values","handleChange","handleBlur","handleSubmit","className","concat","range","input","name","onBlur","onChange","min","max","fileName","_jsxFileName","lineNumber","columnNumber","_this","thumb","style","left","completion","width","map","breakpoint","_defineProperty","completed","parseInt","close","submit","_c","$RefreshReg$"],"sources":["/Users/neville/Documents/Github/elrond-delegation/src/components/Cards/components/ChangeServiceFee/ChangeServiceFee.tsx"],"sourcesContent":["import React from 'react';\n\nimport classNames from 'classnames';\nimport { Formik } from 'formik';\nimport { Submit } from 'components/Action';\n\nimport { useGlobalContext } from 'context';\nimport { nominateVal } from 'helpers/nominate';\nimport useTransaction from 'helpers/useTransaction';\n\nimport styles from './styles.module.scss';\n\ninterface ActionDataType {\n  amount: string;\n}\n\nexport const ChangeServiceFee = () => {\n  const breakpoints = [0, 25, 50, 75, 100];\n\n  const { sendTransaction } = useTransaction();\n  const { contractDetails } = useGlobalContext();\n\n  const onSubmit = async (data: ActionDataType): Promise<void> => {\n    try {\n      await sendTransaction({\n        args: nominateVal(data.amount),\n        type: 'changeServiceFee',\n        value: '0'\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Formik\n      onSubmit={onSubmit}\n      initialValues={{\n        amount: contractDetails.data\n          ? contractDetails.data.serviceFee.replace('%', '')\n          : '0'\n      }}\n    >\n      {({ values, handleChange, handleBlur, handleSubmit }) => (\n        <form\n          onSubmit={handleSubmit}\n          className={`${styles.serviceFee} serviceFee`}\n        >\n          <div className={styles.range}>\n            <input\n              className={styles.input}\n              name='amount'\n              type='range'\n              onBlur={handleBlur}\n              onChange={handleChange}\n              min={0}\n              max={100}\n              value={values.amount}\n            />\n\n            <span\n              className={styles.thumb}\n              style={{ left: `${values.amount}%` }}\n            >\n              <strong>{values.amount}%</strong>\n            </span>\n\n            <div\n              className={styles.completion}\n              style={{ width: `${values.amount}%` }}\n            />\n\n            {breakpoints.map((breakpoint) => (\n              <div\n                style={{ left: `${breakpoint}%` }}\n                key={`breakpoint-${breakpoint}`}\n                className={classNames(styles.breakpoint, {\n                  [styles.completed]: breakpoint <= parseInt(values.amount)\n                })}\n              >\n                <span>{breakpoint}%</span>\n              </div>\n            ))}\n          </div>\n\n          <Submit close='Cancel' submit='Save' />\n        </form>\n      )}\n    </Formik>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}